(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{79:function(e,t,r){"use strict";r.r(t),r.d(t,"frontMatter",(function(){return l})),r.d(t,"metadata",(function(){return s})),r.d(t,"rightToc",(function(){return p})),r.d(t,"default",(function(){return b}));var n=r(2),a=r(6),o=(r(0),r(84)),i=r(88),c=r(89),l={title:"Crash reporting"},s={unversionedId:"crash",id:"crash",isDocsHomePage:!1,title:"Crash reporting",description:"Report important environmental information when an error occurs or a process crashes.",source:"@site/docs/crash.mdx",permalink:"/docs/crash",editUrl:"https://github.com/milesj/boost/edit/master/website/docs/crash.mdx",sidebar:"docs",previous:{title:"Project",permalink:"/docs/common/project"},next:{title:"Debugging",permalink:"/docs/debug"}},p=[{value:"Installation",id:"installation",children:[]},{value:"Usage",id:"usage",children:[]}],u={rightToc:p};function b(e){var t=e.components,r=Object(a.a)(e,["components"]);return Object(o.b)("wrapper",Object(n.a)({},u,r,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"Report important environmental information when an error occurs or a process crashes."),Object(o.b)("h2",{id:"installation"},"Installation"),Object(o.b)(i.a,{groupId:"package-manager",defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"NPM",value:"npm"}],mdxType:"Tabs"},Object(o.b)(c.a,{value:"yarn",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"yarn add @boost/debug\n"))),Object(o.b)(c.a,{value:"npm",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-bash"}),"npm install @boost/debug\n")))),Object(o.b)("h2",{id:"usage"},"Usage"),Object(o.b)("p",null,"Sometimes an application or script fails. Sometimes we want to write an error log with environmental\ninformation about the failure. Boost supports this exact scenario."),Object(o.b)("p",null,"Take advantage of crash reporting by importing and instantiating the ",Object(o.b)("inlineCode",{parentName:"p"},"CrashReporter")," class."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"import { CrashReporter } from '@boost/debug';\n\nconst reporter = new CrashReporter();\n")),Object(o.b)("p",null,"The reporter supports a collection of chainable methods that log targeted information, grouped into\nsections. The following methods are available on ",Object(o.b)("inlineCode",{parentName:"p"},"CrashReporter"),"."),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reportBinaries()")," - Reports binary versions and paths for Node, NPM, and Yarn."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reportEnvVars()")," - Sorts and reports all environment variables."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reportLanguages()")," - Reports versions and paths for common programming languages, like Java,\nPython, Ruby, and more."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reportPackageVersions()")," - Report NPM package versions for all that match the defined pattern(s)."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reportProcess()")," - Reports information about the currently running process."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reportStackTrace(error: Error)")," - Reports the stack trace for the provided ",Object(o.b)("inlineCode",{parentName:"li"},"Error"),"."),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"reportSystem()"),"- Reports information about the system, OS, and platform.")),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"reporter\n  .reportPackageVersions('@boost/*')\n  .reportBinaries()\n  .reportEnvVars()\n  .reportSystem();\n")),Object(o.b)("p",null,"If you'd like to add your own section and label value pairs, use ",Object(o.b)("inlineCode",{parentName:"p"},"CrashReporter#addSection()"),", which\nrequires a title, and ",Object(o.b)("inlineCode",{parentName:"p"},"CrashReporter#add()"),", which accepts a label and one or many values."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"reporter\n  .addSection('User')\n  .add('ID', user.id)\n  .add('Name', user.name)\n  .add('Location', user.address, user.country);\n")),Object(o.b)("p",null,"Once all the information has been buffered, we can write the content to a log file by using\n",Object(o.b)("inlineCode",{parentName:"p"},"CrashReporter#write()"),", which requires an absolute file path."),Object(o.b)("pre",null,Object(o.b)("code",Object(n.a)({parentName:"pre"},{className:"language-ts"}),"reporter.write(path.join(process.cwd(), 'error.log'));\n")))}b.isMDXComponent=!0},84:function(e,t,r){"use strict";r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return m}));var n=r(0),a=r.n(n);function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var s=a.a.createContext({}),p=function(e){var t=a.a.useContext(s),r=t;return e&&(r="function"==typeof e?e(t):c(c({},t),e)),r},u=function(e){var t=p(e.components);return a.a.createElement(s.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return a.a.createElement(a.a.Fragment,{},t)}},d=a.a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,i=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),u=p(r),d=n,m=u["".concat(i,".").concat(d)]||u[d]||b[d]||o;return r?a.a.createElement(m,c(c({ref:t},s),{},{components:r})):a.a.createElement(m,c({ref:t},s))}));function m(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=d;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:n,i[1]=c;for(var s=2;s<o;s++)i[s]=r[s];return a.a.createElement.apply(null,i)}return a.a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},85:function(e,t,r){"use strict";function n(e){var t,r,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(a&&(a+=" "),a+=r);else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}t.a=function(){for(var e,t,r=0,a="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(a&&(a+=" "),a+=t);return a}},86:function(e,t,r){"use strict";var n=r(0);const a=Object(n.createContext)(void 0);t.a=a},87:function(e,t,r){"use strict";var n=r(0),a=r(86);t.a=function(){const e=Object(n.useContext)(a.a);if(null==e)throw new Error("`useUserPreferencesContext` is used outside of `Layout` Component.");return e}},88:function(e,t,r){"use strict";var n=r(0),a=r.n(n),o=r(87),i=r(85),c=r(47),l=r.n(c);const s=37,p=39;t.a=function(e){const{block:t,children:r,defaultValue:c,values:u,groupId:b}=e,{tabGroupChoices:d,setTabGroupChoices:m}=Object(o.a)(),[f,O]=Object(n.useState)(c),[h,j]=Object(n.useState)(!1);if(null!=b){const e=d[b];null!=e&&e!==f&&u.some(t=>t.value===e)&&O(e)}const g=e=>{O(e),null!=b&&m(b,e)},y=[],v=e=>{e.metaKey||e.altKey||e.ctrlKey||j(!0)},w=()=>{j(!1)};return Object(n.useEffect)(()=>{window.addEventListener("keydown",v),window.addEventListener("mousedown",w)},[]),a.a.createElement("div",null,a.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":t})},u.map(({value:e,label:t})=>a.a.createElement("li",{role:"tab",tabIndex:0,"aria-selected":f===e,className:Object(i.a)("tabs__item",l.a.tabItem,{"tabs__item--active":f===e}),style:h?{}:{outline:"none"},key:e,ref:e=>y.push(e),onKeyDown:e=>{((e,t,r)=>{switch(r.keyCode){case p:((e,t)=>{const r=e.indexOf(t)+1;e[r]?e[r].focus():e[0].focus()})(e,t);break;case s:((e,t)=>{const r=e.indexOf(t)-1;e[r]?e[r].focus():e[e.length-1].focus()})(e,t)}})(y,e.target,e),v(e)},onFocus:()=>g(e),onClick:()=>{g(e),j(!1)},onPointerDown:()=>j(!1)},t))),a.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},n.Children.toArray(r).filter(e=>e.props.value===f)[0]))}},89:function(e,t,r){"use strict";var n=r(0),a=r.n(n);t.a=function(e){return a.a.createElement("div",null,e.children)}}}]);