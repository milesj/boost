<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.64">
<title data-react-helmet="true">Configuration | Boost</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Configuration | Boost"><meta data-react-helmet="true" name="description" content="Powerful convention based finder, loader, and manager of both configuration and ignore files. Will"><meta data-react-helmet="true" property="og:description" content="Powerful convention based finder, loader, and manager of both configuration and ignore files. Will"><meta data-react-helmet="true" property="og:url" content="https://boostlib.dev/docs/config"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.svg"><link data-react-helmet="true" rel="canonical" href="https://boostlib.dev/docs/config"><link rel="stylesheet" href="/styles.16ab758f.css">
<link rel="preload" href="/styles.258a4895.js" as="script">
<link rel="preload" href="/runtime~main.c839f7c1.js" as="script">
<link rel="preload" href="/main.aad79896.js" as="script">
<link rel="preload" href="/1.bebaefbd.js" as="script">
<link rel="preload" href="/2.7ed9c09b.js" as="script">
<link rel="preload" href="/27.e0fa85a5.js" as="script">
<link rel="preload" href="/28.5b51cd4f.js" as="script">
<link rel="preload" href="/935f2afb.421c7848.js" as="script">
<link rel="preload" href="/17896441.c3526068.js" as="script">
<link rel="preload" href="/68e3f9c8.befcbf17.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Boost"><strong class="navbar__title">Boost</strong></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">v2</a><ul class="dropdown__menu"><li><a href="https://www.npmjs.com/package/@boost/args" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.2.0 · args</a></li><li><a href="https://www.npmjs.com/package/@boost/cli" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.1.1 · cli</a></li><li><a href="https://www.npmjs.com/package/@boost/common" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.2.1 · common</a></li><li><a href="https://www.npmjs.com/package/@boost/config" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.2.1 · config</a></li><li><a href="https://www.npmjs.com/package/@boost/debug" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.1.1 · debug</a></li><li><a href="https://www.npmjs.com/package/@boost/decorators" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.0.0 · decorators</a></li><li><a href="https://www.npmjs.com/package/@boost/event" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.1.0 · event</a></li><li><a href="https://www.npmjs.com/package/@boost/log" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.1.1 · log</a></li><li><a href="https://www.npmjs.com/package/@boost/pipeline" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.1.1 · pipeline</a></li><li><a href="https://www.npmjs.com/package/@boost/plugin" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.1.1 · plugin</a></li><li><a href="https://www.npmjs.com/package/@boost/terminal" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.1.0 · terminal</a></li><li><a href="https://www.npmjs.com/package/@boost/translate" target="_blank" rel="noopener noreferrer" class="dropdown__link" position="left">v2.1.1 · translate</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/milesj/boost" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/logo.svg" alt="Boost"><strong class="navbar__title">Boost</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" class="menu__link menu__link--sublist">v2</a><ul class="menu__list"><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/args" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.2.0 · args</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/cli" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.1.1 · cli</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/common" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.2.1 · common</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/config" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.2.1 · config</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/debug" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.1.1 · debug</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/decorators" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.0.0 · decorators</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/event" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.1.0 · event</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/log" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.1.1 · log</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/pipeline" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.1.1 · pipeline</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/plugin" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.1.1 · plugin</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/terminal" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.1.0 · terminal</a></li><li class="menu__list-item"><a href="https://www.npmjs.com/package/@boost/translate" target="_blank" rel="noopener noreferrer" class="menu__link" position="left">v2.1.1 · translate</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/docs">Docs</a></li><li class="menu__list-item"><a href="https://github.com/milesj/boost" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Packages</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/args">Arguments</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/cli">CLIs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="0">Common utilities</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/common">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/common/contract">Contract</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/common/path">Path</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/common/path-resolver">PathResolver</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/common/project">Project</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/config">Configuration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/crash">Crash reporting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/debug">Debugging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/decorators">Decorators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/event">Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/log">Logging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pipeline">Pipelines</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/plugin">Plugins</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/terminal">Terminal utilities</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/translate">Translations</a></li></ul></li><li class="menu__list-item"><a href="https://github.com/milesj/boost/blob/master/CHANGELOG.md" target="_blank" rel="noreferrer noopener" class="menu__link">Changelog</a></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">Configuration</h1></header><div class="markdown"><span class="badgeGroup_1h1n"><span class="badge badge--warning">Backend</span><span class="badge badge--primary">Tooling</span></span><p>Powerful convention based finder, loader, and manager of both configuration and ignore files. Will
find config files of multiple supported formats while traversing up the tree.</p><h2 id="installation">Installation</h2><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active" style="outline:none">Yarn</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">NPM</li></ul><div role="tabpanel" class="margin-vert--md"><div><pre><code class="language-bash">yarn add @boost/config
</code></pre></div></div></div><h2 id="events">Events</h2><table><thead><tr><th>Event</th><th>Arguments</th><th>Description</th></tr></thead><tbody><tr><td><code>Configuration#onLoadedConfig</code></td><td><code>ConfigFile&lt;T&gt;[]</code></td><td>Waterfall: Called after config files are loaded but before processed. Can modify config file list.</td></tr><tr><td><code>Configuration#onLoadedIgnore</code></td><td><code>IgnoreFile[]</code></td><td>Waterfall: Called after ignore files are loaded. Can modify ignore file list.</td></tr><tr><td><code>Configuration#onProcessedConfig</code></td><td><code>T</code></td><td>Called after config files are loaded and processed.</td></tr></tbody></table><h2 id="setup">Setup</h2><p>Configuration in the context of this package encompasses 2 concepts: config files and ignore files.
Config files are a collection of settings (key-value pairs), while ignore files are a list of file
path patterns and globs.</p><p>To utilize this functionality, we must extend the <code>Configuration</code> class, and define a blueprint for
the structure of our config file (using <a href="/docs/common/contract">optimal</a>). This class will fulfill
multiple roles: managing, finding, loading, and processing of files.</p><pre><code class="language-ts">import { Blueprint, Predicates } from &#x27;@boost/common&#x27;;
import { Configuration } from &#x27;@boost/config&#x27;;

// Example structure
interface ConfigFile {
  ast?: boolean;
  cwd?: string;
  debug?: boolean;
  exclude?: string[];
  include?: string[];
  options?: object;
}

class Manager extends Configuration&lt;ConfigFile&gt; {
  blueprint({ array, bool, string, object }: Predicates): Blueprint&lt;ConfigFile&gt; {
    return {
      ast: bool(),
      cwd: string(process.cwd()),
      debug: bool(),
      exclude: array(string()),
      include: array(string()),
      options: object(),
    };
  }
}
</code></pre><p>This class layer is designed to be &quot;internal only&quot;, and should not be utilized by consumers
directly. Instead, consumers should interact with an instance of the class, like so.</p><pre><code class="language-ts">export default new Manager(&#x27;boost&#x27;);
</code></pre><blockquote><p>The string value passed to the constructor is the name of the config and ignore files, in camel
case format. For example, <code>boost.js</code> and <code>.boostignore</code>.</p></blockquote><h3 id="finder-options">Finder options</h3><p>To customize the config file finding and loading layer, call <code>Configuration#configureFinder()</code>
within <code>bootstrap()</code>.</p><pre><code class="language-ts">class Manager extends Configuration&lt;ConfigFile&gt; {
  // ...

  bootstrap() {
    this.configureFinder({
      extendsSetting: &#x27;extends&#x27;,
      includeEnv: false,
    });
  }
}
</code></pre><ul><li><code>extendsSetting</code> (<code>string</code>) - Name of the setting in which <a href="#enable-extending">config extending</a>
is enabled.</li><li><code>extensions</code> (<code>ExtType[]</code>) - List of extensions, in order, to find config files within each
folder. Defaults to <a href="#file-formats">file format list</a>.</li><li><code>includeEnv</code> (<code>boolean</code>) - Find and load environment based config files (using <code>NODE_ENV</code>).
Defaults to <code>true</code>.</li><li><code>loaders</code> (<code>{ [K in LoaderType]: Loader&lt;T&gt; }</code>) - Mapping of loader functions by type. Defaults to
normal file type loaders.</li><li><code>overridesSetting</code> (<code>string</code>) - Name of the setting in which
<a href="#enable-overrides">config overriding</a> is enabled.</li></ul><h3 id="processor-options">Processor options</h3><p>To customize the config processing layer, call <code>Configuration#configureProcessor()</code> while within
<code>bootstrap()</code>.</p><pre><code class="language-ts">class Manager extends Configuration&lt;ConfigFile&gt; {
  // ...

  bootstrap() {
    this.configureProcessor({
      defaultWhenUndefined: false,
    });
  }
}
</code></pre><ul><li><code>defaultWhenUndefined</code> (<code>boolean</code>) - When a setting has a value of <code>undefined</code>, fallback to the
default/initial value for that setting. Defaults to <code>true</code>.</li><li><code>validate</code> (<code>boolean</code>) - Validate all settings within a config file before processing. Defaults to
<code>true</code>.</li></ul><h3 id="processing-settings">Processing settings</h3><p>When multiple config files are merged into a single config file, this is known as processing.
Processing happens automatically for each setting as we need to determine what the next setting
value would be. By default, the following rules apply when the next and previous setting values are:</p><ul><li><em>Arrays</em>: will be merged and deduped into a new array.</li><li><em>Objects</em>: will be shallow merged (using spread) into a new object.</li><li><em>Primitives</em>: next value will overwrite the previous value.</li><li><em>Undefined</em>: will reset to initial value if <code>defaultWhenUndefined</code> is true.</li></ul><p>If you would like to customize this process, you can define custom process handlers per setting with
<code>Configuration#addProcessHandler()</code>. This method requires a setting name and handler function (which
is passed the previous and next values).</p><pre><code class="language-ts">class Manager extends Configuration&lt;ConfigFile&gt; {
  // ...

  bootstrap() {
    // Always use forward slashes
    this.addProcessHandler(&#x27;cwd&#x27;, (prev, next) =&gt; next.replace(/\\/g, &#x27;/&#x27;));

    // Deep merge options since they&#x27;re dynamic
    this.addProcessHandler(&#x27;options&#x27;, (prev, next) =&gt; deepMerge(prev, next));
  }
}
</code></pre><blockquote><p>Handlers may only be defined on root-level settings.</p></blockquote><p>To make this process even easier, we provide a handful of pre-defined handlers (below) that can be
used for common scenarios (these handlers power the default rules mentioned above).</p><ul><li><code>mergeArray</code> - Merges previous and next arrays into a new array while removing duplicates (using
<code>Set</code>).</li><li><code>mergeExtends</code> - Merges previous and next file paths (either a string or array of strings) into a
new list of file paths. This is useful if utilizing <a href="#enable-extending">config extending</a>.</li><li><code>mergeObject</code> - Shallow merges previous and next objects into a new object using object spread.</li><li><code>mergePlugins</code> - Merges previous and next plugin configurations into an object. Plugin configs can
either be a list of module names, or a map of module names to flags/options. This is useful if
utilizing the <a href="/docs/plugin#configuration-files">plugin package</a>.</li><li><code>overwrite</code> - Overwrite the previous value with the next value.</li></ul><pre><code class="language-ts">import { mergePlugins } from &#x27;@boost/config&#x27;;

class Manager extends Configuration&lt;ConfigFile&gt; {
  // ...

  bootstrap() {
    // Using example from @boost/plugin documentation
    this.addProcessHandler(&#x27;renderers&#x27;, mergePlugins);
  }
}
</code></pre><h2 id="config-files">Config files</h2><p>A config file is a file that explicitly defines settings (key-value pairs) according to a defined
structure.</p><h3 id="file-patterns">File patterns</h3><p>Config files are grouped into either the root or branch category. Root config files are located in a
<code>.config</code> folder in the root of a project (denoted by the current working directory). Branch config
files are located within folders (at any depth) below the root, and are prefixed with a leading dot
(<code>.</code>).</p><table><thead><tr><th>Root</th><th>Branch</th></tr></thead><tbody><tr><td><code>.config/&lt;name&gt;.&lt;ext&gt;</code></td><td><code>.&lt;name&gt;.&lt;ext&gt;</code></td></tr><tr><td><code>.config/&lt;name&gt;.&lt;env&gt;.&lt;ext&gt;</code></td><td><code>.&lt;name&gt;.&lt;env&gt;.&lt;ext&gt;</code></td></tr></tbody></table><ul><li><code>&lt;name&gt;</code> - Name passed to your <code>Configuration</code> instance (in camel case).</li><li><code>&lt;env&gt;</code> - Current environment derived from <code>NODE_ENV</code>.</li><li><code>&lt;ext&gt;</code> - File extension supported by the defined <a href="#finder-options">loaders and extensions</a>.</li></ul><h3 id="file-formats">File formats</h3><p>Config files can be written in the formats below, and are listed in the order in which they&#x27;re
resolved (can customize with the <a href="#finder-options"><code>extensions</code></a> option).</p><ul><li><code>.js</code> - JavaScript. Will load with <a href="https://nodejs.org/api/esm.html#esm_enabling">CommonJS or ECMAScript modules</a> depending on the
<code>package.json</code> <code>type</code> field. Defaults to CommonJS if not defined.</li><li><code>.json</code>, <code>.json5</code> - JSON. Supports <a href="https://json5.org/">JSON5</a> for both extensions.</li><li><code>.cjs</code> - JavaScript using <a href="https://nodejs.org/api/esm.html#esm_enabling">CommonJS</a> (<code>require()</code>). <em>Supported by all Node.js versions.</em></li><li><code>.mjs</code> - JavaScript using <a href="https://nodejs.org/api/esm.html#esm_enabling">ECMAScript modules</a> (<code>import</code>/<code>export</code>). <em>Requires Node.js
v13.3+.</em></li><li><code>.ts</code> - TypeScript. Will evaluate with either the <code>typescript</code> or <code>@babel/core</code> modules.</li><li><code>.yaml</code>, <code>.yml</code> - YAML. <em>Does not support multi-document.</em></li></ul><p>Based on the file structure in the <a href="#setup">Setup</a> section above, the config files can be
demonstrated as followed (excluding standard JavaScript since it&#x27;s either CJS or ESM).</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active" style="outline:none">JavaScript (CJS)</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">JavaScript (ESM)</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">TypeScript</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">JSON</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">YAML</li></ul><div role="tabpanel" class="margin-vert--md"><div><pre><code class="language-js">module.exports = {
  ast: false,
  debug: true,
  exclude: [&#x27;**/node_modules/**&#x27;],
  include: [&#x27;src/**&#x27;, &#x27;tests/**&#x27;],
  options: { experimental: true },
};
</code></pre></div></div></div><h3 id="loading-config-files">Loading config files</h3><p>Config files can be found and loaded with either the <code>Configuration#loadConfigFromRoot()</code> or
<code>Configuration#loadConfigFromBranchToRoot()</code> methods -- both of which return a processed config
object that abides this structure.</p><ul><li><code>config</code> (<code>Required&lt;T&gt;</code>) - All found and loaded config file contents merged and processed into a
single config object.</li><li><code>files</code> - List of config files found and loaded.<ul><li><code>config</code> (<code>Partial&lt;T&gt;</code>) - Config content of the file.</li><li><code>path</code> (<code>Path</code>) - Absolute path of the file.</li><li><code>source</code> (<code>root | branch | overridden | extended</code>) - The type of file.</li></ul></li></ul><h4 id="lookup-resolution">Lookup resolution</h4><p>When the finder traverses through the file system and attempts to resolve config files within
each/target folder, it does so using the lookup algorithm demonstrated below. Let&#x27;s assume the
following:</p><ul><li>The config file name is <code>boost</code>.</li><li>All file formats are supported, in their default lookup order (js, json, cjs, mjs, ts, json5,
yaml, yml).</li><li>The current environment is <code>development</code> (the value of <code>NODE_ENV</code>).</li></ul><pre><code>boost.js
boost.development.js
boost.json
boost.development.json
boost.cjs
boost.development.cjs
boost.mjs
boost.development.mjs
boost.ts
boost.development.ts
boost.json5
boost.development.json5
boost.yaml
boost.development.yaml
boost.yml
boost.development.yml
</code></pre><p>For each file format, we attempt to find the base config file, and an environment config file (if
<a href="#finder-options"><code>includeEnv</code></a> is true). This allows for higher precendence config per environment.
Once a file is found, the lookup process is aborted, and the confg is returned.</p><blockquote><p>Only 1 file format will be used per folder. Multiple file formats is not supported.</p></blockquote><h4 id="from-root">From root</h4><p>The <code>Configuration#loadConfigFromRoot()</code> will load the config file found in the root <code>.config</code>
folder (typically 1 file). If no root path is provided, it defaults to process.cwd().</p><pre><code class="language-json" metastring="title=&quot;root/.config/boost.json&quot;" title="&quot;root/.config/boost.json&quot;">{
  &quot;debug&quot;: true
}
</code></pre><pre><code class="language-ts">const { config } = await manager.loadConfigFromRoot(&#x27;/root&#x27;);

/*
{
  config: { debug: true },
  files: [
    {
      config: { debug: true },
      path: new Path(&#x27;/root/.config/boost.json&#x27;),
      source: &#x27;root&#x27;,
    },
  ],
}
*/
</code></pre><blockquote><p>Why are root config files located within a <code>.config</code> folder? In an effort to reduce the root
config and dotfile churn that many projects suffer from, we&#x27;re trying to push forward an idiomatic
standard that we hope many others will follow.</p></blockquote><h4 id="from-branch">From branch</h4><p>The <code>Configuration#loadConfigFromBranchToRoot()</code> method will load a config file from each folder
while traversing upwards from the branch folder to the root folder. The found list is returned in
reverse order so that the deepest branch can be used to overwrite the previous branch (or root).</p><pre><code class="language-js" metastring="title=&quot;root/modules/features/.boost.mjs&quot;" title="&quot;root/modules/features/.boost.mjs&quot;">export default {
  ast: true,
};
</code></pre><pre><code class="language-yaml" metastring="title=&quot;root/modules/.boost.yaml&quot;" title="&quot;root/modules/.boost.yaml&quot;">options:
  experimental: true
</code></pre><pre><code class="language-json" metastring="title=&quot;root/.config/boost.json&quot;" title="&quot;root/.config/boost.json&quot;">{
  &quot;debug&quot;: true
}
</code></pre><pre><code class="language-ts">const { config } = await manager.loadConfigFromBranchToRoot(&#x27;/root/modules/features&#x27;);

/*
{
  config: {
    ast: true,
    debug: true,
    options: {
      experimental: true,
    },
  },
  files: [
    {
      config: { debug: true },
      path: new Path(&#x27;/root/.config/boost.json&#x27;),
      source: &#x27;root&#x27;,
    },
    {
      config: {
        options: {
          experimental: true,
        },
      },
      path: new Path(&#x27;/root/modules/.boost.yaml&#x27;),
      source: &#x27;branch&#x27;,
    },
    {
      config: { ast: true },
      path: new Path(&#x27;/root/modules/features/.boost.mjs&#x27;),
      source: &#x27;branch&#x27;,
    },
  ],
}
*/
</code></pre><h3 id="enable-extending">Enable extending</h3><p>Config extending enables consumers of your project to extend and merge with external config files
using file system paths or <a href="#presets">Node.js modules</a>, with the current config file taking
precedence. With that being said, extending is <em>not</em> enabled by default and must be configured for
use. To enable, define the <a href="#finder-options"><code>extendsSetting</code></a> option with the name of a setting in
which extending would be configured.</p><pre><code class="language-ts">class Manager extends Configuration&lt;ConfigFile&gt; {
  // ...

  bootstrap() {
    this.configureFinder({
      extendsSetting: &#x27;extend&#x27;,
    });
  }
}
</code></pre><p>Consumers may now extend external config files by defining a string or an array of strings for
<code>extend</code> (name derived from the example above).</p><pre><code class="language-ts">export default {
  extend: [&#x27;./some/relative/path.js&#x27;, &#x27;npm-module&#x27;],
  debug: false,
};
</code></pre><blockquote><p>File paths are relative to the file it&#x27;s configured in.</p></blockquote><h4 id="presets">Presets</h4><p>To extend from a Node.js module, we must use a preset. A preset is a
<a href="#file-formats">JavaScript config file</a> located in the module root, named in the format of
<code>&lt;name&gt;.preset.js</code>.</p><pre><code class="language-ts" metastring="title=&quot;npm-module/boost.preset.js&quot;" title="&quot;npm-module/boost.preset.js&quot;">module.exports = {
  exclude: [&#x27;**/node_modules&#x27;],
};
</code></pre><blockquote><p>Since the preset is JavaScript, it can be written in either CommonJS or ECMAScript format,
assuming the <code>type</code> field has been set in <code>package.json</code>.</p></blockquote><h3 id="enable-overrides">Enable overrides</h3><p>Config overrides enables consumers of your project to define granular settings based on file path
matching; settings defined in this fashion would override their base settings. With that being said,
overrides are <em>not</em> enabled by default and must be configured for use. To enable, define the
<a href="#finder-options"><code>overridesSetting</code></a> option with the name of a setting in which overrides would be
configured.</p><pre><code class="language-ts">class Manager extends Configuration&lt;ConfigFile&gt; {
  // ...

  bootstrap() {
    this.configureFinder({
      overridesSetting: &#x27;override&#x27;,
    });
  }
}
</code></pre><blockquote><p>Overrides are extracted <em>before</em> configurations are processed, so a process handler is not
required.</p></blockquote><p>Consumers may now define overrides in their config file by passing a list of items to the <code>override</code>
setting (name derived from the example above). Each item must abide the following structure:</p><ul><li><code>settings</code> (<code>Partial&lt;T&gt;</code>) - Settings configured for this specific override. <em>(Required)</em></li><li><code>include</code> (<code>string | string[]</code>) - File path patterns/globs to match against. <em>(Required)</em></li><li><code>exclude</code> (<code>string | string[]</code>) - File path patterns/globs to ignore.</li></ul><pre><code class="language-ts">export default {
  debug: false,
  override: [
    {
      include: &#x27;*.test.ts&#x27;,
      settings: {
        debug: true,
      },
    },
  ],
};
</code></pre><h2 id="ignore-files">Ignore files</h2><p>An ignore file is a standard text file that denotes files and folders to ignore
(filter/exclude/etc), within the current directory, using matching globs and patterns.</p><h3 id="file-patterns-1">File patterns</h3><p>Both root and branch level ignore files use the same file naming scheme. The file is prefixed with a
leading dot (<code>.</code>), followed by the name passed to your <code>Configuration</code> instance (in camel case), and
suffixed with <code>ignore</code>.</p><table><thead><tr><th>Root</th><th>Branch</th></tr></thead><tbody><tr><td><code>.&lt;name&gt;ignore</code></td><td><code>.&lt;name&gt;ignore</code></td></tr></tbody></table><blockquote><p>The root ignore file is not located within the <code>.config</code> folder as ignore paths/patterns/globs
must be relative to the current directory.</p></blockquote><h3 id="loading-ignore-files">Loading ignore files</h3><p>Ignore files can be found and loaded with either the <code>Configuration#loadIgnoreFromRoot()</code> or
<code>Configuration#loadIgnoreFromBranchToRoot()</code> methods -- both of which return a list of ignore
metadata that abides this structure.</p><ul><li><code>ignore</code> (<code>string[]</code>) - List of all ignore patterns within the file (split on <code>\n</code>).</li><li><code>path</code> (<code>Path</code>) - Absolute path of the file.</li><li><code>source</code> (<code>root | branch</code>) - Whether the file is a root or branch file.</li></ul><p>To demonstrate this, let&#x27;s assume the following file system.</p><pre><code>root/
├── modules/
│   ├── features/
│   │   ├── index.ts
│   │   └── .boostignore
│   ├── foo.ts
│   ├── bar.ts
│   └── baz.ts
└── .boostignore
</code></pre><pre><code class="language-bash" metastring="title=&quot;root/modules/features/.boostignore&quot;" title="&quot;root/modules/features/.boostignore&quot;">build/
</code></pre><pre><code class="language-bash" metastring="title=&quot;root/.boostignore&quot;" title="&quot;root/.boostignore&quot;">*.log
*.lock
</code></pre><h4 id="from-root-1">From root</h4><p>The <code>Configuration#loadIgnoreFromRoot()</code> will load the ignore file found in the root folder
(typically 1 file). If no root path is provided, it defaults to <code>process.cwd()</code>.</p><pre><code class="language-ts">const list = await manager.loadIgnoreFromRoot(&#x27;/root&#x27;);

/*
[
  {
    ignore: [&#x27;*.log&#x27;, &#x27;*.lock&#x27;],
    path: new Path(&#x27;/root/.boostignore&#x27;),
    source: &#x27;root&#x27;,
  },
]
*/
</code></pre><h4 id="from-branch-1">From branch</h4><p>The <code>Configuration#loadIgnoreFromBranchToRoot()</code> method will load an ignore file from each folder
while traversing upwards from the branch folder to the root folder. The found list is returned in
reverse order so that the deepest branch can be used to overwrite the previous branch (or root).</p><pre><code class="language-ts">const list = await manager.loadIgnoreFromBranchToRoot(&#x27;/root/modules/features&#x27;);

/*
[
  {
    ignore: [&#x27;*.log&#x27;, &#x27;*.lock&#x27;],
    path: new Path(&#x27;/root&#x27;),
    source: &#x27;root&#x27;,
  },
  {
    ignore: [&#x27;build/&#x27;],
    path: new Path(&#x27;/root/modules/features/.boostignore&#x27;),
    source: &#x27;branch&#x27;,
  },
]
*/
</code></pre></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/milesj/boost/edit/master/website/docs/config.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/common/project"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Project</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/crash"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Crash reporting »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#installation" class="table-of-contents__link">Installation</a></li><li><a href="#events" class="table-of-contents__link">Events</a></li><li><a href="#setup" class="table-of-contents__link">Setup</a><ul><li><a href="#finder-options" class="table-of-contents__link">Finder options</a></li><li><a href="#processor-options" class="table-of-contents__link">Processor options</a></li><li><a href="#processing-settings" class="table-of-contents__link">Processing settings</a></li></ul></li><li><a href="#config-files" class="table-of-contents__link">Config files</a><ul><li><a href="#file-patterns" class="table-of-contents__link">File patterns</a></li><li><a href="#file-formats" class="table-of-contents__link">File formats</a></li><li><a href="#loading-config-files" class="table-of-contents__link">Loading config files</a></li><li><a href="#enable-extending" class="table-of-contents__link">Enable extending</a></li><li><a href="#enable-overrides" class="table-of-contents__link">Enable overrides</a></li></ul></li><li><a href="#ignore-files" class="table-of-contents__link">Ignore files</a><ul><li><a href="#file-patterns-1" class="table-of-contents__link">File patterns</a></li><li><a href="#loading-ignore-files" class="table-of-contents__link">Loading ignore files</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>Copyright © 2020 Miles Johnson. Built with <a href="https://docusaurus.io/">Docusaurus</a>. Icon by <a href="https://thenounproject.com/search/?q=boost&i=1420345">Chameleon Design</a>.</div></div></div></footer></div>
<script src="/styles.258a4895.js"></script>
<script src="/runtime~main.c839f7c1.js"></script>
<script src="/main.aad79896.js"></script>
<script src="/1.bebaefbd.js"></script>
<script src="/2.7ed9c09b.js"></script>
<script src="/27.e0fa85a5.js"></script>
<script src="/28.5b51cd4f.js"></script>
<script src="/935f2afb.421c7848.js"></script>
<script src="/17896441.c3526068.js"></script>
<script src="/68e3f9c8.befcbf17.js"></script>
</body>
</html>