"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[7041],{5318:function(e,n,a){a.d(n,{Zo:function(){return p},kt:function(){return u}});var t=a(7378);function r(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function i(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){r(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function s(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)a=o[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=t.createContext({}),m=function(e){var n=t.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):i(i({},n),e)),a},p=function(e){var n=m(e.components);return t.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return t.createElement(t.Fragment,{},n)}},c=t.forwardRef((function(e,n){var a=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),c=m(a),u=r,g=c["".concat(l,".").concat(u)]||c[u]||d[u]||o;return a?t.createElement(g,i(i({ref:n},p),{},{components:a})):t.createElement(g,i({ref:n},p))}));function u(e,n){var a=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=c;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var m=2;m<o;m++)i[m]=a[m];return t.createElement.apply(null,i)}return t.createElement.apply(null,a)}c.displayName="MDXCreateElement"},9798:function(e,n,a){a.d(n,{Z:function(){return i}});var t=a(7378),r=a(8944),o="tabItem_wHwb";function i(e){var n=e.children,a=e.hidden,i=e.className;return t.createElement("div",{role:"tabpanel",className:(0,r.Z)(o,i),hidden:a},n)}},3337:function(e,n,a){a.d(n,{Z:function(){return u}});var t=a(5773),r=a(7378),o=a(8944),i=a(6457),s=a(784),l=a(9947),m=a(3457),p="tabList_J5MA",d="tabItem_l0OV";function c(e){var n,a,i=e.lazy,c=e.block,u=e.defaultValue,g=e.values,h=e.groupId,f=e.className,k=r.Children.map(e.children,(function(e){if((0,r.isValidElement)(e)&&"value"in e.props)return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})),b=null!=g?g:k.map((function(e){var n=e.props;return{value:n.value,label:n.label,attributes:n.attributes}})),C=(0,s.l)(b,(function(e,n){return e.value===n.value}));if(C.length>0)throw new Error('Docusaurus error: Duplicate values "'+C.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.');var N=null===u?u:null!=(n=null!=u?u:null==(a=k.find((function(e){return e.props.default})))?void 0:a.props.value)?n:k[0].props.value;if(null!==N&&!b.some((function(e){return e.value===N})))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+N+'" but none of its children has the corresponding value. Available values are: '+b.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");var y=(0,l.U)(),v=y.tabGroupChoices,w=y.setTabGroupChoices,x=(0,r.useState)(N),T=x[0],O=x[1],P=[],I=(0,m.o5)().blockElementScrollPositionUntilNextRender;if(null!=h){var S=v[h];null!=S&&S!==T&&b.some((function(e){return e.value===S}))&&O(S)}var E=function(e){var n=e.currentTarget,a=P.indexOf(n),t=b[a].value;t!==T&&(I(n),O(t),null!=h&&w(h,String(t)))},A=function(e){var n,a=null;switch(e.key){case"ArrowRight":var t,r=P.indexOf(e.currentTarget)+1;a=null!=(t=P[r])?t:P[0];break;case"ArrowLeft":var o,i=P.indexOf(e.currentTarget)-1;a=null!=(o=P[i])?o:P[P.length-1]}null==(n=a)||n.focus()};return r.createElement("div",{className:(0,o.Z)("tabs-container",p)},r.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":c},f)},b.map((function(e){var n=e.value,a=e.label,i=e.attributes;return r.createElement("li",(0,t.Z)({role:"tab",tabIndex:T===n?0:-1,"aria-selected":T===n,key:n,ref:function(e){return P.push(e)},onKeyDown:A,onFocus:E,onClick:E},i,{className:(0,o.Z)("tabs__item",d,null==i?void 0:i.className,{"tabs__item--active":T===n})}),null!=a?a:n)}))),i?(0,r.cloneElement)(k.filter((function(e){return e.props.value===T}))[0],{className:"margin-top--md"}):r.createElement("div",{className:"margin-top--md"},k.map((function(e,n){return(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==T})}))))}function u(e){var n=(0,i.Z)();return r.createElement(c,(0,t.Z)({key:String(n)},e))}},297:function(e,n,a){a.d(n,{Z:function(){return r}});var t=a(7378);function r(e){var n=e.children,a=e.type;return t.createElement("span",{className:"badge badge--"+a},n)}},2723:function(e,n,a){a.d(n,{Z:function(){return p}});var t=a(7378),r=a(1884),o=a(6125),i=a(297),s="badgeGroup_syf7",l="apiLink_JWAN";function m(e){var n=e.children;return t.createElement("span",{className:s},n)}function p(e){var n=e.api,a=e.backend,s=e.frontend,p=e.tooling;return t.createElement(t.Fragment,null,n&&t.createElement(r.default,{className:l,to:n},"API ",t.createElement(o.Z,null)),t.createElement(m,null,a&&t.createElement(i.Z,{type:"warning"},"Backend"),s&&t.createElement(i.Z,{type:"success"},"Frontend"),p&&t.createElement(i.Z,{type:"primary"},"Tooling")))}},8596:function(e,n,a){a.r(n),a.d(n,{assets:function(){return u},contentTitle:function(){return d},default:function(){return f},frontMatter:function(){return p},metadata:function(){return c},toc:function(){return g}});var t=a(5773),r=a(808),o=(a(7378),a(5318)),i=a(2723),s=a(3337),l=a(9798),m=["components"],p={title:"CLIs",sidebar_label:"Overview"},d=void 0,c={unversionedId:"cli",id:"cli",title:"CLIs",description:"A type-safe and interactive command line program, powered by React and Ink. We also",source:"@site/docs/cli.mdx",sourceDirName:".",slug:"/cli",permalink:"/docs/cli",draft:!1,editUrl:"https://github.com/milesj/boost/edit/master/website/docs/cli.mdx",tags:[],version:"current",frontMatter:{title:"CLIs",sidebar_label:"Overview"},sidebar:"docs",previous:{title:"Arguments",permalink:"/docs/args"},next:{title:"Components",permalink:"/docs/cli/components"}},u={},g=[{value:"Installation",id:"installation",level:2},{value:"Environment variables",id:"environment-variables",level:2},{value:"Program",id:"program",level:2},{value:"Package integration",id:"package-integration",level:3},{value:"Stand-alone",id:"stand-alone",level:3},{value:"Multi-command",id:"multi-command",level:3},{value:"Middleware",id:"middleware",level:3},{value:"Built-in",id:"built-in",level:4},{value:"Commands",id:"commands",level:2},{value:"Config",id:"config",level:3},{value:"Options",id:"options",level:3},{value:"Unknown options",id:"unknown-options",level:4},{value:"Global options",id:"global-options",level:4},{value:"Params",id:"params",level:3},{value:"Variadic params",id:"variadic-params",level:4},{value:"Rest args",id:"rest-args",level:3},{value:"Sub-commands",id:"sub-commands",level:3},{value:"Rendering components",id:"rendering-components",level:3},{value:"Tasks",id:"tasks",level:2},{value:"Categories",id:"categories",level:2},{value:"Logging",id:"logging",level:2},{value:"Themes",id:"themes",level:2},{value:"Performance improvements",id:"performance-improvements",level:2},{value:"Defer React imports",id:"defer-react-imports",level:3},{value:"Test utilities",id:"test-utilities",level:2}],h={toc:g};function f(e){var n=e.components,p=(0,r.Z)(e,m);return(0,o.kt)("wrapper",(0,t.Z)({},h,p,{components:n,mdxType:"MDXLayout"}),(0,o.kt)(i.Z,{tooling:!0,api:"/api/cli",mdxType:"EnvBadges"}),(0,o.kt)("p",null,"A type-safe and interactive command line program, powered by ",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React")," and ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vadimdemedes/ink"},"Ink"),". We also\nencourage the ",(0,o.kt)("a",{parentName:"p",href:"https://clig.dev"},"Command Line Interface Guidelines")," for building better programs."),(0,o.kt)("p",null,"The CLI provides a simple object oriented framework for building and managing command line programs,\nwith clear separation of commands, middleware, args, a program instance, and more. It further\nstreamlines the development process by utilizing ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vadimdemedes/ink"},"Ink")," for terminal rendering, as manually\nhandling ANSI escape sequences and terminal widths can be tedious and complicated."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"The CLI makes heavy usage of the ",(0,o.kt)("a",{parentName:"p",href:"/docs/args"},"@boost/args")," package, which will be continually\nreferenced throughout this documentation. It's encouraged to read and understand it first.")),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)(s.Z,{groupId:"package-manager",defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"npm",value:"npm"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @boost/cli react ink\n"))),(0,o.kt)(l.Z,{value:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @boost/cli react ink\n")))),(0,o.kt)("h2",{id:"environment-variables"},"Environment variables"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"BOOSTJS_CLI_THEME")," (",(0,o.kt)("inlineCode",{parentName:"li"},"string"),") - Name of the theme module (without ",(0,o.kt)("inlineCode",{parentName:"li"},"@boost")," or ",(0,o.kt)("inlineCode",{parentName:"li"},"boost")," prefixes)\nto load for terminal style/color changes.")),(0,o.kt)("h2",{id:"program"},"Program"),(0,o.kt)("p",null,"The entry point of the command line is commonly referred to as the binary, or script, and is managed\nby the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Program"},(0,o.kt)("inlineCode",{parentName:"a"},"Program"))," class. This class handles the registration of commands,\napplying ",(0,o.kt)("a",{parentName:"p",href:"#middleware"},"middleware")," to argv (",(0,o.kt)("inlineCode",{parentName:"p"},"process.argv"),"), parsing argv into\n",(0,o.kt)("a",{parentName:"p",href:"/docs/args"},"arguments")," (options, flags, etc), running the found command with these argument,\noutputing to the terminal, and finally cleaning up or handling failures."),(0,o.kt)("p",null,"Begin by importing and instantiating the ",(0,o.kt)("inlineCode",{parentName:"p"},"Program")," class, while passing required and optional\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/interface/ProgramOptions"},(0,o.kt)("inlineCode",{parentName:"a"},"ProgramOptions")),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Program } from '@boost/cli';\nimport pkg from './package.json';\n\nconst program = new Program({\n  bin: 'boost',\n  footer: 'Documentation: https://boostlib.dev',\n  name: 'Boost Examples',\n  version: pkg.version,\n});\n")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Program example",src:a(5206).Z,width:"1700",height:"400"})),(0,o.kt)("p",null,"Once ",(0,o.kt)("a",{parentName:"p",href:"#commands"},"commands")," and optional ",(0,o.kt)("a",{parentName:"p",href:"#middleware"},"middleware")," have been registered, you must run\nthe program with ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Program#run"},(0,o.kt)("inlineCode",{parentName:"a"},"Program#run()"))," or\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Program#runAndExit"},(0,o.kt)("inlineCode",{parentName:"a"},"Program#runAndExit()")),", with the latter automatically passing\nthe exit code to ",(0,o.kt)("inlineCode",{parentName:"p"},"process.exitCode"),". Both methods require an argv list to run."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"program.runAndExit(process.argv);\n")),(0,o.kt)("p",null,"If you have any logic that should be bootstrapped before the program runs, and you would like to\ninherit the error handling of the CLI, you may pass an async-aware function as a 2nd argument when\nrunning."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"program.runAndExit(process.argv, async () => {\n  // CLI code to bootstrap before running\n  await bootstrapCli();\n});\n")),(0,o.kt)("h3",{id:"package-integration"},"Package integration"),(0,o.kt)("p",null,"Now that you have the basics of a program, you can set the\n",(0,o.kt)("a",{parentName:"p",href:"https://docs.npmjs.com/files/package.json#bin"},"bin")," field in your ",(0,o.kt)("inlineCode",{parentName:"p"},"package.json"),". This should point\nto the program-aware file you have defined previously. For example, if my program will be called\n",(0,o.kt)("inlineCode",{parentName:"p"},"boost"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-json"},'{\n  "bin": {\n    "boost": "./bin/boost.js"\n  }\n}\n')),(0,o.kt)("p",null,"If you're writing your program in TypeScript, or non-Node compatible JavaScript, you'll need to\ndown-level compile before releasing your package. A simple alternative approach is to point your\nbinary file to where the compiled program would be found."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-js",metastring:'title="bin/boost.js"',title:'"bin/boost.js"'},"#!/usr/bin/env node\n\nrequire('../lib/program.js');\n")),(0,o.kt)("h3",{id:"stand-alone"},"Stand-alone"),(0,o.kt)("p",null,"Boost offers 2 implementations for how the binary can be executed, the 1st is known as a stand-alone\nprogram. This implementation only supports 1 ",(0,o.kt)("a",{parentName:"p",href:"#commands"},"command")," known as the default command,\nwhich is immediately executed when the binary is ran. It does not support sub-commands."),(0,o.kt)("p",null,"To create a stand-alone binary, create and instantiate a command, then pass it to\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Program#default"},(0,o.kt)("inlineCode",{parentName:"a"},"Program#default()")),". The command's ",(0,o.kt)("inlineCode",{parentName:"p"},"path")," is ignored for this\nsituation."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Program } from '@boost/cli';\nimport StandAloneCommand from './commands/StandAloneCommand';\n\nconst program = new Program({\n  // ...\n});\n\nprogram.default(new StandAloneCommand()).runAndExit(process.argv);\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Some good examples of stand-alone binaries are ",(0,o.kt)("inlineCode",{parentName:"p"},"babel"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"webpack"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"tsc"),".")),(0,o.kt)("h3",{id:"multi-command"},"Multi-command"),(0,o.kt)("p",null,"The 2nd implementation is opposite the stand-alone program, and is known as a multi-command program.\nWhen the binary is ran, and no arguments are passed, a help menu is displayed instead of executing\nthe default command. Otherwise, if arguments ",(0,o.kt)("em",{parentName:"p"},"are")," passed, a registered command will be ran based on\nmatching path name."),(0,o.kt)("p",null,"To create a multi-command binary, create and instantiate multiple commands, and pass them all to\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Program#register"},(0,o.kt)("inlineCode",{parentName:"a"},"Program#register()")),". In the example below, the ",(0,o.kt)("inlineCode",{parentName:"p"},"boost")," binary\nwould support the ",(0,o.kt)("inlineCode",{parentName:"p"},"boost install"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"boost uninstall"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"boost build")," commands."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Program } from '@boost/cli';\nimport InstallCommand from './commands/InstallCommand';\nimport UninstallCommand from './commands/UninstallCommand';\nimport BuildCommand from './commands/BuildCommand';\n\nconst program = new Program({\n  // ...\n});\n\nprogram\n  .register(new InstallCommand())\n  .register(new UninstallCommand())\n  .register(new BuildCommand())\n  .runAndExit(process.argv);\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Some good examples of stand-alone binaries are ",(0,o.kt)("inlineCode",{parentName:"p"},"npm"),", ",(0,o.kt)("inlineCode",{parentName:"p"},"yarn"),", and ",(0,o.kt)("inlineCode",{parentName:"p"},"docker"),".")),(0,o.kt)("h3",{id:"middleware"},"Middleware"),(0,o.kt)("p",null,"Boost will parse provided argv (a list of string arguments, typically from ",(0,o.kt)("inlineCode",{parentName:"p"},"process.argv"),") into\n",(0,o.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@boost/args"},"args")," (an object of options, flags, params, etc) for easier consumption. This process can be\nintercepted with ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Program#middleware"},(0,o.kt)("inlineCode",{parentName:"a"},"Program#middleware()")),", which allows both argv\nand args to be read and mutated."),(0,o.kt)("p",null,"Middleware is a function, that receives the argv list as the 1st argument, and a parse callback as\nthe 2nd argument. It ",(0,o.kt)("em",{parentName:"p"},"must")," return an args object, which can be built by executing the parse\ncallback. This allows both before, middle, and after implementations to be possible, as demonstrated\nbelow."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Program, Middleware } from '@boost/cli';\n\nconst example: Middleware = (argv, parse) => {\n  if (argv.includes('--help')) {\n    argv.push('--all');\n  }\n\n  return parse();\n};\n\nconst program = new Program({\n  // ...\n});\n\nprogram\n  // Function reference\n  .middleware(example)\n  // Inline async function\n  .middleware(async (argv, parse) => {\n    const args = await parse();\n\n    args.options.flag = true;\n\n    return args;\n  })\n  .runAndExit(process.argv);\n")),(0,o.kt)("p",null,"Middleware is async, so the parse callback ",(0,o.kt)("em",{parentName:"p"},"must be")," awaited! This also means you can implement your\nown async functionality, like file system access, or network requests."),(0,o.kt)("h4",{id:"built-in"},"Built-in"),(0,o.kt)("p",null,"Boost provides the following built-in middleware for common scenarios:\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/function/checkNodeRequirement"},(0,o.kt)("inlineCode",{parentName:"a"},"checkNodeRequirement"))," and\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/function/checkPackageOutdated"},(0,o.kt)("inlineCode",{parentName:"a"},"checkPackageOutdated")),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { checkNodeRequirement, checkPackageOutdated } from '@boost/cli';\n\nprogram\n  // Log a message\n  .middleware(checkPackageOutdated('@boost/cli', require('@boost/cli/package.json').version))\n  // Log an error\n  .middleware(checkNodeRequirement('>=12.10.0'))\n  // Throw an error\n  .middleware(checkNodeRequirement('>=12.10.0', true));\n")),(0,o.kt)("h2",{id:"commands"},"Commands"),(0,o.kt)("p",null,"Commands are self-encapsulated pieces of business logic that are ran when a matching path (a unique\nargument) is found on the command line. To create a command, import and extend the abstract\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command"},(0,o.kt)("inlineCode",{parentName:"a"},"Command"))," class, and implement a\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#run"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#run()"))," method. This method can be async and even render\n",(0,o.kt)("a",{parentName:"p",href:"#rendering-components"},"React components"),"!"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command } from '@boost/cli';\n\nexport default class BuildCommand extends Command {\n  async run() {\n    this.log('Starting process...');\n\n    await runHeavyAsyncProcess();\n\n    this.log('Process finished!');\n  }\n}\n")),(0,o.kt)("p",null,"However, that's not all required, as a command and it's features must be configured! Features may be\ndefined using TypeScript decorators, static class properties, or property initializers. All formats\nwill be demonstrated in the examples below."),(0,o.kt)("h3",{id:"config"},"Config"),(0,o.kt)("p",null,"All commands support the metadata configuration defined in\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/interface/CommandConfig"},(0,o.kt)("inlineCode",{parentName:"a"},"CommandConfig")),", with ",(0,o.kt)("inlineCode",{parentName:"p"},"path")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"description")," being mandatory."),(0,o.kt)("p",null,"When using decorators, import the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/function/Config"},(0,o.kt)("inlineCode",{parentName:"a"},"Config"))," decorator and apply it to the\n",(0,o.kt)("inlineCode",{parentName:"p"},"Command")," class. The path and description are required, while all other metadata can be passed as an\nobject. Otherwise, just define static class properties of the same name!"),(0,o.kt)(s.Z,{groupId:"command-format",defaultValue:"decorators",values:[{label:"Decorators",value:"decorators"},{label:"Initializers",value:"initializers"},{label:"Static properties",value:"props"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"decorators",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Config } from '@boost/cli';\n\n@Config('build', 'Build a project', {\n  aliases: ['make'],\n  deprecated: true,\n})\nexport default class BuildCommand extends Command {}\n"))),(0,o.kt)(l.Z,{value:"initializers",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command } from '@boost/cli';\n\nexport default class BuildCommand extends Command {\n  static path: string = 'build';\n\n  static aliases: string[] = ['make'];\n\n  static description: string = 'Build a project';\n\n  static deprecated: boolean = true;\n}\n"))),(0,o.kt)(l.Z,{value:"props",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command } from '@boost/cli';\n\nexport default class BuildCommand extends Command {\n  static path: string = 'build';\n\n  static aliases: string[] = ['make'];\n\n  static description: string = 'Build a project';\n\n  static deprecated: boolean = true;\n}\n")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Command example",src:a(5908).Z,width:"1700",height:"300"})),(0,o.kt)("h3",{id:"options"},"Options"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/docs/args#options"},"Options")," are optional arguments that accept a value on the command line. When a\ncommand is ran, each option is set as a class property based on the matching command line value, or\nthe provided default value. Like configuration above, options can be defined in many formats\n(below), with option types being passed to the 1st ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command"},(0,o.kt)("inlineCode",{parentName:"a"},"Command"))," generic slot."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("em",{parentName:"p"},"Decorators"),": There are 5 ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/namespace/Arg"},(0,o.kt)("inlineCode",{parentName:"a"},"Arg"))," decorators (uppercased names) to choose\nfrom when defining options, all of which are defined ",(0,o.kt)("em",{parentName:"p"},"on")," a class property, where the property\nname becomes the option name. For example, a property of ",(0,o.kt)("inlineCode",{parentName:"p"},"save")," would become the ",(0,o.kt)("inlineCode",{parentName:"p"},"--save")," option.\nDepending on the decorator, they support many ",(0,o.kt)("a",{parentName:"p",href:"/docs/args#options"},"option settings"),", excluding\n",(0,o.kt)("inlineCode",{parentName:"p"},"type")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"description"),", which are inferred, and ",(0,o.kt)("inlineCode",{parentName:"p"},"default")," which comes from the property value.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("em",{parentName:"p"},"Initializers"),": There are 5 ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/namespace/Arg"},(0,o.kt)("inlineCode",{parentName:"a"},"Arg"))," initializers (lowercased names) to\nchoose from when defining options, all of which are defined ",(0,o.kt)("em",{parentName:"p"},"as")," a class property, where the\nproperty name becomes the option name. Configuration works exactly the same as decorators.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("em",{parentName:"p"},"Properties"),": If you prefer to use static properties, all options are defined through the single\nstatic ",(0,o.kt)("inlineCode",{parentName:"p"},"options")," property, which requires a mapping of option names to\n",(0,o.kt)("a",{parentName:"p",href:"/docs/args#options"},"option settings"),". With this approach, ",(0,o.kt)("inlineCode",{parentName:"p"},"type")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"description")," are required,\nwith ",(0,o.kt)("inlineCode",{parentName:"p"},"default")," either being configured with a setting, or coming from the class property value.\nFor easier type safety, the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli#Options"},(0,o.kt)("inlineCode",{parentName:"a"},"Options"))," collection type can be used to type the\nstatic property."))),(0,o.kt)(s.Z,{groupId:"command-format",defaultValue:"decorators",values:[{label:"Decorators",value:"decorators"},{label:"Initializers",value:"initializers"},{label:"Properties",value:"props"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"decorators",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Arg, GlobalOptions } from '@boost/cli';\n\ninterface CustomOptions extends GlobalOptions {\n  flag: boolean;\n  number: number;\n  numbers: number[];\n  string: string;\n  strings: string[];\n}\n\nexport default class CustomCommand extends Command<CustomOptions> {\n  // --flag\n  @Arg.Flag('Boolean flag')\n  flag: boolean = false;\n\n  // --number\n  @Arg.Number('Single number', { count: true, short: 'N' })\n  number: number = 0;\n\n  // --numbers\n  @Arg.Numbers('List of numbers', { deprecated: true })\n  numbers: number[] = [];\n\n  // --string\n  @Arg.String('Single string', { choices: ['a', 'b', 'c'], hidden: true })\n  string: string = '';\n\n  // --strings\n  @Arg.Strings('List of strings', { arity: 5, short: 'S' })\n  strings: string[] = [];\n\n  run() {\n    const { flag, strings } = this;\n\n    // ...\n  }\n}\n"))),(0,o.kt)(l.Z,{value:"initializers",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Arg, GlobalOptions } from '@boost/cli';\n\ninterface CustomOptions extends GlobalOptions {\n  flag: boolean;\n  number: number;\n  numbers: number[];\n  string: string;\n  strings: string[];\n}\n\nexport default class CustomCommand extends Command<CustomOptions> {\n  // --flag\n  flag = Arg.flag('Boolean flag');\n\n  // --number\n  number = Arg.number('Single number', { count: true, short: 'N' });\n\n  // --numbers\n  numbers = Arg.numbers('List of numbers', { deprecated: true });\n\n  // --string\n  string = Arg.string('Single string', { choices: ['a', 'b', 'c'], hidden: true });\n\n  // --strings\n  strings = Arg.strings('List of strings', { arity: 5, short: 'S' });\n\n  run() {\n    const { flag, strings } = this;\n\n    // ...\n  }\n}\n"))),(0,o.kt)(l.Z,{value:"props",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, GlobalOptions, Options } from '@boost/cli';\n\ninterface CustomOptions extends GlobalOptions {\n  flag: boolean;\n  number: number;\n  numbers: number[];\n  string: string;\n  strings: string[];\n}\n\nexport default class CustomCommand extends Command<CustomOptions> {\n  static options: Options<CustomOptions> = {\n    // --flag\n    flag: {\n      description: 'Boolean flag',\n      type: 'boolean',\n    },\n    // --number\n    number: {\n      count: true,\n      description: 'Single number',\n      short: 'N',\n      type: 'number',\n    },\n    // --numbers\n    numbers: {\n      deprecated: true,\n      description: 'List of numbers',\n      multiple: true,\n      type: 'number',\n    },\n    // --string\n    string: {\n      choices: ['a', 'b', 'c'],\n      description: 'Single string',\n      hidden: true,\n      type: 'string',\n    },\n    // --strings\n    strings: {\n      arity: 5,\n      description: 'List of strings',\n      multiple: true,\n      short: 'S',\n      type: 'string',\n    },\n  };\n\n  flag: boolean = false;\n\n  number: number = 0;\n\n  numbers: number[] = [];\n\n  string: string = '';\n\n  strings: string[] = [];\n\n  run() {\n    const { flag, strings } = this;\n\n    // ...\n  }\n}\n")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Options example",src:a(2553).Z,width:"1700",height:"485"})),(0,o.kt)("h4",{id:"unknown-options"},"Unknown options"),(0,o.kt)("p",null,"By default, unknown options are not allowed and will throw an error. To allow, set the\n",(0,o.kt)("inlineCode",{parentName:"p"},"allowUnknownOptions")," ",(0,o.kt)("a",{parentName:"p",href:"#config"},"configuration setting")," to true. When enabled, all unknown options\nwill be set as a string object to the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#unknown"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#unknown"))," class\nproperty."),(0,o.kt)(s.Z,{groupId:"command-format",defaultValue:"decorators",values:[{label:"Decorators",value:"decorators"},{label:"Initializers",value:"initializers"},{label:"Properties",value:"props"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"decorators",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, GlobalOptions, Config } from '@boost/cli';\n\n@Config('custom', 'Example', { allowUnknownOptions: true })\nexport default class CustomCommand extends Command<GlobalOptions> {\n  run() {\n    const { foo, bar } = this.unknown;\n    // ...\n  }\n}\n"))),(0,o.kt)(l.Z,{value:"initializers",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, GlobalOptions } from '@boost/cli';\n\nexport default class CustomCommand extends Command<GlobalOptions> {\n  static path: string = 'custom';\n\n  static description: string = 'Example';\n\n  static allowUnknownOptions: boolean = true;\n\n  run() {\n    const { foo, bar } = this.unknown;\n    // ...\n  }\n}\n"))),(0,o.kt)(l.Z,{value:"props",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, GlobalOptions } from '@boost/cli';\n\nexport default class CustomCommand extends Command<GlobalOptions> {\n  static path: string = 'custom';\n\n  static description: string = 'Example';\n\n  static allowUnknownOptions: boolean = true;\n\n  run() {\n    const { foo, bar } = this.unknown;\n    // ...\n  }\n}\n")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Unknown option example",src:a(8577).Z,width:"1700",height:"200"})),(0,o.kt)("h4",{id:"global-options"},"Global options"),(0,o.kt)("p",null,"Boost provides the follow options that are always available to all commands."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--help"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"-h")," (",(0,o.kt)("inlineCode",{parentName:"li"},"boolean"),") - Displays a help menu for the chosen command or the program itself.\nAvailable under the ",(0,o.kt)("inlineCode",{parentName:"li"},"help")," class property."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--locale")," (",(0,o.kt)("inlineCode",{parentName:"li"},"string"),') - Display errors, messages, and the interface in the chosen locale (if\nsupported). Locale must be in the format of "en" or "en-US". Available under the ',(0,o.kt)("inlineCode",{parentName:"li"},"locale")," class\nproperty."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"--version"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"-v")," (",(0,o.kt)("inlineCode",{parentName:"li"},"boolean"),") - Display the current program version and exit. Available under the\n",(0,o.kt)("inlineCode",{parentName:"li"},"version")," class property.")),(0,o.kt)("h3",{id:"params"},"Params"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/docs/args#params"},"Params")," are command line values that will be passed to ",(0,o.kt)("inlineCode",{parentName:"p"},"Command#run()")," as\narguments. When defining params, all ",(0,o.kt)("a",{parentName:"p",href:"/docs/args#params"},"param settings")," are supported, and required\nare mandatory. Param types are passed to the 2nd ",(0,o.kt)("inlineCode",{parentName:"p"},"Command")," generic slot."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("em",{parentName:"p"},"Decorators"),": When using decorators, the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/namespace/Arg#Params"},(0,o.kt)("inlineCode",{parentName:"a"},"Arg.Params"))," decorator\nmust be defined on the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#run"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#run()"))," method. It accepts an\nargument for each param you want to configure, in the order they should be expected.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("em",{parentName:"p"},"Initializers"),": For initializers, the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/namespace/Arg#params"},(0,o.kt)("inlineCode",{parentName:"a"},"Arg.params"))," initializer\nmust be defined on the static ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#params"},(0,o.kt)("inlineCode",{parentName:"a"},"params"))," property, which requires\nan array of ",(0,o.kt)("a",{parentName:"p",href:"/docs/args#params"},"param settings"),". This is mix between decorators (above) and static\nproperties (below).")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("em",{parentName:"p"},"Properties"),": If you prefer to use static properties, all params are defined through the single\nstatic ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#params"},(0,o.kt)("inlineCode",{parentName:"a"},"params"))," property, which requires an array of\n",(0,o.kt)("a",{parentName:"p",href:"/docs/args#params"},"param settings"),". For easier type safety, the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli#Params"},(0,o.kt)("inlineCode",{parentName:"a"},"Params")),"\ncollection type can be used to type the static property."))),(0,o.kt)(s.Z,{groupId:"command-format",defaultValue:"decorators",values:[{label:"Decorators",value:"decorators"},{label:"Initializers",value:"initializers"},{label:"Properties",value:"props"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"decorators",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Arg, GlobalOptions } from '@boost/cli';\n\ntype CustomParams = [string, number, boolean];\n\nexport default class CustomCommand extends Command<GlobalOptions, CustomParams> {\n  @Arg.Params<CustomParams>(\n    {\n      description: 'String',\n      label: 'name',\n      required: true,\n      type: 'string',\n    },\n    {\n      default: 18,\n      description: 'Number',\n      label: 'age',\n      type: 'number',\n    },\n    {\n      description: 'Boolean',\n      label: 'active',\n      type: 'boolean',\n    },\n  )\n  run(name: string, age: number, active: boolean) {\n    // ...\n  }\n}\n"))),(0,o.kt)(l.Z,{value:"initializers",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Arg, Command, Params, GlobalOptions } from '@boost/cli';\n\ntype CustomParams = [string, number, boolean];\n\nexport default class CustomCommand extends Command<GlobalOptions, CustomParams> {\n  static params = Arg.params<CustomParams>(\n    {\n      description: 'String',\n      label: 'name',\n      required: true,\n      type: 'string',\n    },\n    {\n      default: 18,\n      description: 'Number',\n      label: 'age',\n      type: 'number',\n    },\n    {\n      description: 'Boolean',\n      label: 'active',\n      type: 'boolean',\n    },\n  );\n\n  run(name: string, age: number, active: boolean) {\n    // ...\n  }\n}\n"))),(0,o.kt)(l.Z,{value:"props",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Params, GlobalOptions } from '@boost/cli';\n\ntype CustomParams = [string, number, boolean];\n\nexport default class CustomCommand extends Command<GlobalOptions, CustomParams> {\n  static params: Params<CustomParams> = [\n    {\n      description: 'String',\n      label: 'name',\n      required: true,\n      type: 'string',\n    },\n    {\n      default: 18,\n      description: 'Number',\n      label: 'age',\n      type: 'number',\n    },\n    {\n      description: 'Boolean',\n      label: 'active',\n      type: 'boolean',\n    },\n  ];\n\n  run(name: string, age: number, active: boolean) {\n    // ...\n  }\n}\n")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Params example",src:a(5032).Z,width:"1700",height:"485"})),(0,o.kt)("h4",{id:"variadic-params"},"Variadic params"),(0,o.kt)("p",null,"By default, variadic params are not enabled and will throw an error when an unconfigured param is\nfound. To allow, set the ",(0,o.kt)("inlineCode",{parentName:"p"},"allowVariadicParams")," ",(0,o.kt)("a",{parentName:"p",href:"#config"},"configuration setting")," to true. When\nenabled, all extra params will spread onto the end of the\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#run"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#run()"))," method as strings."),(0,o.kt)("p",null,"Using the example above, it would look like the following."),(0,o.kt)(s.Z,{groupId:"command-format",defaultValue:"decorators",values:[{label:"Decorators",value:"decorators"},{label:"Initializers",value:"initializers"},{label:"Properties",value:"props"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"decorators",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Config, Arg, GlobalOptions } from '@boost/cli';\n\ntype CustomParams = [string, number];\n\n@Config('custom', 'Example', { allowVariadicParams: true })\nexport default class CustomCommand extends Command<GlobalOptions, CustomParams> {\n  @Arg.Params<CustomParams>([\n    // ...\n  ])\n  run(name: string, age: number, ...params: string[]) {\n    // ...\n  }\n}\n"))),(0,o.kt)(l.Z,{value:"initializers",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Arg, Command, GlobalOptions } from '@boost/cli';\n\ntype CustomParams = [string, number];\n\nexport default class CustomCommand extends Command<GlobalOptions, CustomParams> {\n  static path: string = 'custom';\n\n  static description: string = 'Example';\n\n  static allowVariadicParams: boolean = true;\n\n  static params = Arg.params<CustomParams>(/* ... */);\n\n  run(name: string, age: number, ...params: string[]) {\n    // ...\n  }\n}\n"))),(0,o.kt)(l.Z,{value:"props",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Params, GlobalOptions } from '@boost/cli';\n\ntype CustomParams = [string, number];\n\nexport default class CustomCommand extends Command<GlobalOptions, CustomParams> {\n  static path: string = 'custom';\n\n  static description: string = 'Example';\n\n  static allowVariadicParams: boolean = true;\n\n  static params: Params<CustomParams> = [\n    // ...\n  ];\n\n  run(name: string, age: number, ...params: string[]) {\n    // ...\n  }\n}\n")))),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Variadic params example",src:a(8574).Z,width:"1700",height:"190"})),(0,o.kt)("h3",{id:"rest-args"},"Rest args"),(0,o.kt)("p",null,(0,o.kt)("a",{parentName:"p",href:"/docs/args#rest-args"},"Rest arguments")," are all arguments that come after a standalone ",(0,o.kt)("inlineCode",{parentName:"p"},"--"),"\ndelimiter, and can be accessed using the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#rest"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#rest"))," property,\nwhich is an array of strings."),(0,o.kt)("h3",{id:"sub-commands"},"Sub-commands"),(0,o.kt)("p",null,"Of course commands can register their own commands, known as sub-commands -- it's commands all the\nway down! Sub-commands are configured exactly the same, with the key difference being that their\npath must be prefixed with their parent command's path, separated by a colon."),(0,o.kt)("p",null,"For example, say we have a scaffolding command, where each sub-command is the specific template to\ngenerate. The parent path would be ",(0,o.kt)("inlineCode",{parentName:"p"},"scaffold"),", where a child would be ",(0,o.kt)("inlineCode",{parentName:"p"},"scaffold:model"),",\n",(0,o.kt)("inlineCode",{parentName:"p"},"scaffond:controller"),", so on and so forth. You can see this in action below."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Config } from '@boost/cli';\n\n@Config('scaffold:controller', 'Scaffold a controller')\nclass ScaffoldControllerCommand extends Command {}\n\n@Config('scaffold:model', 'Scaffold a model')\nclass ScaffoldModelCommand extends Command {}\n\n@Config('scaffold', 'Scaffold a template')\nclass ScaffoldCommand extends Command {\n  constructor() {\n    super();\n\n    this.register(new ScaffoldControllerCommand());\n    this.register(new ScaffoldModelCommand());\n  }\n}\n")),(0,o.kt)("p",null,"Sub-commands can now be executed on the command line by passing their full path, like so:\n",(0,o.kt)("inlineCode",{parentName:"p"},"boost scaffold:model --name User"),"."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Sub-commands example",src:a(5286).Z,width:"1701",height:"485"})),(0,o.kt)("h3",{id:"rendering-components"},"Rendering components"),(0,o.kt)("p",null,"This chapter assumes you have knowledge of ",(0,o.kt)("a",{parentName:"p",href:"https://reactjs.org/"},"React"),", JSX/TSX, and ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/vadimdemedes/ink"},"Ink"),". If you do not,\nit's highly encouraged to study those topics, but building CLIs with React is not necessarily a\nrequirement as you can use ",(0,o.kt)("a",{parentName:"p",href:"#logging"},"logging")," instead."),(0,o.kt)("p",null,"With that being said, components can be rendered from a command by returning a React element from\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#run"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#run()")),", or by calling the\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#render"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#render()"))," method. For a quick demonstration, let's\nimplement a component that writes to a file asynchronously."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Components and hooks provided by Boost can be imported from ",(0,o.kt)("inlineCode",{parentName:"p"},"@boost/cli/react"),"!")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import fs from 'fs';\nimport React, { useState, useEffect } from 'react';\nimport { Box, Text } from 'ink';\nimport { Style, useProgram } from '@boost/cli/react';\n\ninterface WriteConfigProps {\n  data: object;\n  path: string;\n}\n\nexport default function WriteConfig({ data, path }: WriteConfigProps) {\n  const { exit } = useProgram();\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fs.promises\n      .writeFile(path, JSON.stringify(data), 'utf8')\n      .then(() => {\n        setLoading(false);\n      })\n      .catch((error) => {\n        exit(error);\n      });\n  }, [path]);\n\n  if (loading) {\n    return (\n      <Box>\n        <Text>Writing config file...</Text>\n      </Box>\n    );\n  }\n\n  return (\n    <Box>\n      <Text>\n        Wrote config to file <Style type=\"success\">{path}</Style>\n      </Text>\n    </Box>\n  );\n}\n")),(0,o.kt)("p",null,"Then we implement the command that returns and renders the component."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import { Command, Config, Arg } from '@boost/cli';\nimport WriteConfig from './components/WriteConfig';\n\n@Config('config', 'Manage configuration files')\nexport default class ConfigCommand extends Command {\n  @Arg.Params({\n    description: 'Path to file',\n    type: 'string',\n    required: true,\n  })\n  async run(path: string) {\n    const data = await loadConfigFromSomeSource();\n\n    await this.render(<WriteConfig data={data} path={path} />);\n\n    // Or...\n    return <WriteConfig data={data} path={path} />;\n  }\n}\n")),(0,o.kt)("p",null,"Using the ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#render"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#render()"))," method allows for multiple and or\ndifferent components to be rendered within the same run cycle. Returning a component will only\nuse 1. However, both can be used together!"),(0,o.kt)("h2",{id:"tasks"},"Tasks"),(0,o.kt)("p",null,"Tasks are reusable functions that can be executed within any command, while gaining contextual and\nlimited access to that command's instance. This promotes reusability and composition while avoiding\ninheritance related issues."),(0,o.kt)("p",null,"To use a task, create a function with any arguments and function body that you'd like. The function\nbody has access to the parent command's ",(0,o.kt)("a",{parentName:"p",href:"#options"},"options"),", ",(0,o.kt)("a",{parentName:"p",href:"#logging"},"logger"),", and\n",(0,o.kt)("a",{parentName:"p",href:"#rest-args"},"rest arguments")," through ",(0,o.kt)("inlineCode",{parentName:"p"},"this"),". If using TypeScript, the ",(0,o.kt)("inlineCode",{parentName:"p"},"this")," special argument should\nbe typed."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import fs from 'fs';\nimport { TaskContext } from '@boost/cli';\n\n// Write a JSON blob to a file defined by a --path option\nexport default async function writeJson(\n  this: TaskContext<{ path: string }>,\n  data: unknown,\n  pretty: boolean = false,\n) {\n  await fs.promises.writeFile(\n    this.path,\n    pretty ? JSON.stringify(data, null, 2) : JSON.stringify(data),\n    'utf8',\n  );\n\n  this.log('Wrote file to %s', this.path);\n}\n")),(0,o.kt)("p",null,"Now that are task is created, we can now execute it within a command using\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#runTask"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#runTask()")),". This method requires the task as a function\nreference, and all it's required arguments."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Config, Arg } from '@boost/cli';\nimport writeJson from './tasks/writeJson';\n\n@Config('init', 'Initialize project')\nexport default class InitCommand extends Command {\n  @Arg.String('Path to config file')\n  path: string;\n\n  async run() {\n    const data = await loadConfigFromSomeSource();\n\n    await this.runTask(writeJson, data);\n  }\n}\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Tasks are a command only feature and cannot be executed from within a React component.")),(0,o.kt)("h2",{id:"categories"},"Categories"),(0,o.kt)("p",null,"Categories are a mechanism for grouping commands and options in the help menu for easier\nreadability. They're shared between both commands and options for interoperability purposes, and can\nbe defined globally with ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Program#categories"},(0,o.kt)("inlineCode",{parentName:"a"},"Program#categories()")),", or per command\nthrough ",(0,o.kt)("a",{parentName:"p",href:"#config"},(0,o.kt)("inlineCode",{parentName:"a"},"categories")," configuration"),". To make use of categories, define a mapping of keys\nto category names and optional weights, like so."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"program.categories({\n  // Explicit weight\n  cache: {\n    name: 'Caching',\n    weight: 60,\n  },\n\n  // Automatic weight\n  error: 'Error handling',\n});\n")),(0,o.kt)(s.Z,{groupId:"command-format",defaultValue:"decorators",values:[{label:"Decorators",value:"decorators"},{label:"Initializers",value:"initializers"},{label:"Properties",value:"props"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"decorators",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Config } from '@boost/cli';\n\n@Config('custom', 'Example', {\n  categories: {\n    cache: {\n      name: 'Caching',\n      weight: 60,\n    },\n    error: 'Error handling',\n  },\n})\nexport default class CustomCommand extends Command {\n  // ...\n}\n"))),(0,o.kt)(l.Z,{value:"initializers",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Categories } from '@boost/cli';\n\nexport default class CustomCommand extends Command {\n  static path: string = 'custom';\n\n  static description: string = 'Example';\n\n  static categories: Categories = {\n    cache: {\n      name: 'Caching',\n      weight: 60,\n    },\n    error: 'Error handling',\n  };\n\n  // ...\n}\n"))),(0,o.kt)(l.Z,{value:"props",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Categories } from '@boost/cli';\n\nexport default class CustomCommand extends Command {\n  static path: string = 'custom';\n\n  static description: string = 'Example';\n\n  static categories: Categories = {\n    cache: {\n      name: 'Caching',\n      weight: 60,\n    },\n    error: 'Error handling',\n  };\n\n  // ...\n}\n")))),(0,o.kt)("p",null,"Categories are sorted by weight first, then alphabetical second, so define ",(0,o.kt)("inlineCode",{parentName:"p"},"weight")," when you want\nstrict control of the category order. Uncategorized items have a weight of ",(0,o.kt)("inlineCode",{parentName:"p"},"0"),", and the built-in\nglobals have a weight of ",(0,o.kt)("inlineCode",{parentName:"p"},"100"),"."),(0,o.kt)("p",null,"Now that categories have been defined, be sure to set the category on your commands and options\nusing the ",(0,o.kt)("inlineCode",{parentName:"p"},"category")," setting! Here's an example using decorators."),(0,o.kt)(s.Z,{groupId:"command-format",defaultValue:"decorators",values:[{label:"Decorators",value:"decorators"},{label:"Initializers",value:"initializers"},{label:"Properties",value:"props"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"decorators",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Config, Arg, GlobalOptions } from '@boost/cli';\n\ninterface BuildOptions extends GlobalOptions {\n  cache: boolean;\n}\n\n@Config('build', 'Build a project', { category: 'build' })\nexport default class BuildCommand extends Command<BuildOptions> {\n  @Arg.Flag('Write output to cache', { category: 'cache' })\n  cache: boolean = false;\n\n  // ...\n}\n"))),(0,o.kt)(l.Z,{value:"initializers",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Arg, Command, Options, GlobalOptions } from '@boost/cli';\n\ninterface BuildOptions extends GlobalOptions {\n  cache: boolean;\n}\n\nexport default class BuildCommand extends Command<BuildOptions> {\n  static path: string = 'build';\n\n  static description: string = 'Build a project';\n\n  static category: string = 'build';\n\n  cache = Arg.flag('Write output to cache', { category: 'cache' });\n\n  // ...\n}\n"))),(0,o.kt)(l.Z,{value:"props",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command, Options, GlobalOptions } from '@boost/cli';\n\ninterface BuildOptions extends GlobalOptions {\n  cache: boolean;\n}\n\nexport default class BuildCommand extends Command<BuildOptions> {\n  static path: string = 'build';\n\n  static description: string = 'Build a project';\n\n  static category: string = 'build';\n\n  static options: Options<BuildOptions> = {\n    cache: {\n      category: 'cache',\n      description: 'Write output to cache',\n      type: 'boolean',\n    },\n  };\n\n  cache: boolean = false;\n\n  // ...\n}\n")))),(0,o.kt)("h2",{id:"logging"},"Logging"),(0,o.kt)("p",null,"Boost integrates its very own ",(0,o.kt)("a",{parentName:"p",href:"/docs/log"},"logger")," so that logs can easily be sent to the configured\n",(0,o.kt)("inlineCode",{parentName:"p"},"stdout")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"stderr"),". The logger is accessible using ",(0,o.kt)("a",{parentName:"p",href:"/api/cli/class/Command#log"},(0,o.kt)("inlineCode",{parentName:"a"},"Command#log()")),"\nand associated methods."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command } from '@boost/cli';\n\nclass CustomCommand extends Command {\n  run() {\n    this.log('Normal log');\n    this.log.error('Failed log');\n    this.log.debug('Debug log');\n    // ...\n  }\n}\n")),(0,o.kt)("p",null,"The logger is also accessible within a component by using the\n",(0,o.kt)("a",{parentName:"p",href:"/api/cli/function/useProgram"},(0,o.kt)("inlineCode",{parentName:"a"},"useProgram()"))," hook, like so."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-tsx"},"import React, { useContext } from 'react';\nimport { Box } from 'ink';\nimport { useProgram } from '@boost/cli/react';\n\nfunction CustomComponent() {\n  const { log } = useProgram();\n\n  log('Normal log');\n  log.error('Failed log');\n  log.debug('Debug log');\n  // ...\n\n  return <Box>Loading...</Box>;\n}\n")),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"It's highly encouraged to use the logger instead of the native console, so that logged messages do\nnot interrupt the React rendering process and write to the configured streams!")),(0,o.kt)("h2",{id:"themes"},"Themes"),(0,o.kt)("p",null,"Themes allow consumers to alter the color of text and backgrounds for elements rendered with the\n",(0,o.kt)("inlineCode",{parentName:"p"},"Style")," component. Themes are simply npm modules that return an object of hexcodes or ANSI colors,\nand can be enabled by defining the ",(0,o.kt)("inlineCode",{parentName:"p"},"BOOSTJS_CLI_THEME")," environment variable."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"BOOSTJS_CLI_THEME=nyan <program>\n")),(0,o.kt)("p",null,"When defining a theme, we'll attempt to load from ",(0,o.kt)("inlineCode",{parentName:"p"},"@boost/theme-<name>")," or ",(0,o.kt)("inlineCode",{parentName:"p"},"boost-theme-<name>"),",\notherwise we throw an error. Third-party modules are currently not supported."),(0,o.kt)("h2",{id:"performance-improvements"},"Performance improvements"),(0,o.kt)("p",null,"If your program feels sluggish, or startup cost is high, or time-to-first-render lagging, please try\none of the following performance improvements."),(0,o.kt)("h3",{id:"defer-react-imports"},"Defer React imports"),(0,o.kt)("p",null,"To reduce startup costs, you can defer Ink, React, any React components or hooks, and any non-Boost\nrelated imports by utilizing ",(0,o.kt)("inlineCode",{parentName:"p"},"import()")," (Boost also does this internally). By using this approach,\nyou defer evaluation of these modules ",(0,o.kt)("em",{parentName:"p"},"until")," they are needed."),(0,o.kt)("p",null,"The downside of this approach is that you ",(0,o.kt)("em",{parentName:"p"},"cannot")," use JSX syntax. However, this only applies\n",(0,o.kt)("em",{parentName:"p"},"within")," commands, as standard components can import React and use JSX as normal."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { Command } from '@boost/cli';\n\nexport default class ExampleCommand extends Command {\n  async run() {\n    const { createElement } = await import('react');\n    const { ExampleComponent } = await import('./components/ExampleComponent');\n\n    const data = await loadDataFromSomeSource();\n\n    return createElement(ExampleComponent, { data });\n  }\n}\n")),(0,o.kt)("h2",{id:"test-utilities"},"Test utilities"),(0,o.kt)("p",null,"A handful of ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/facebook/jest"},"Jest")," utilities are available in the\n",(0,o.kt)("inlineCode",{parentName:"p"},"@boost/cli/test")," module. ",(0,o.kt)("a",{parentName:"p",href:"/api/cli-test"},"View the API for a full list"),"."))}f.isMDXComponent=!0},5908:function(e,n,a){n.Z=a.p+"assets/images/command-a48cc120cfb60e1492d3ce9ad6915909.png"},2553:function(e,n,a){n.Z=a.p+"assets/images/options-6bdfd8c724ac6edc617388246ccad48b.png"},5032:function(e,n,a){n.Z=a.p+"assets/images/params-656c1710ddbe411e6fc7851a1ac2630b.png"},5206:function(e,n,a){n.Z=a.p+"assets/images/program-009fb9f110627dae066bbe6d43fe19fe.png"},5286:function(e,n,a){n.Z=a.p+"assets/images/subcommands-292639c856ef1ee95f1a5a849b9b2c58.png"},8577:function(e,n,a){n.Z=a.p+"assets/images/unknown-option-c38449a72c1b6205d54817265c084afc.png"},8574:function(e,n,a){n.Z=a.p+"assets/images/variadic-params-0c7270791d792ad80223d084b397c511.png"}}]);