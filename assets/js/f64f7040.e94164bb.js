"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[2758],{5318:function(e,r,t){t.d(r,{Zo:function(){return c},kt:function(){return f}});var n=t(7378);function a(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function o(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function u(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?o(Object(t),!0).forEach((function(r){a(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function l(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)t=o[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=n.createContext({}),s=function(e){var r=n.useContext(i),t=r;return e&&(t="function"==typeof e?e(r):u(u({},r),e)),t},c=function(e){var r=s(e.components);return n.createElement(i.Provider,{value:r},e.children)},p={inlineCode:"code",wrapper:function(e){var r=e.children;return n.createElement(n.Fragment,{},r)}},d=n.forwardRef((function(e,r){var t=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=s(t),f=a,m=d["".concat(i,".").concat(f)]||d[f]||p[f]||o;return t?n.createElement(m,u(u({ref:r},c),{},{components:t})):n.createElement(m,u({ref:r},c))}));function f(e,r){var t=arguments,a=r&&r.mdxType;if("string"==typeof e||a){var o=t.length,u=new Array(o);u[0]=d;var l={};for(var i in r)hasOwnProperty.call(r,i)&&(l[i]=r[i]);l.originalType=e,l.mdxType="string"==typeof e?e:a,u[1]=l;for(var s=2;s<o;s++)u[s]=t[s];return n.createElement.apply(null,u)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9798:function(e,r,t){t.d(r,{Z:function(){return u}});var n=t(7378),a=t(8944),o="tabItem_wHwb";function u(e){var r=e.children,t=e.hidden,u=e.className;return n.createElement("div",{role:"tabpanel",className:(0,a.Z)(o,u),hidden:t},r)}},3337:function(e,r,t){t.d(r,{Z:function(){return m}});var n=t(5773),a=t(7378),o=t(8944),u=t(3457),l=t(5595),i=t(6457),s="tabList_J5MA",c="tabItem_l0OV";function p(e){var r=e.className,t=e.block,l=e.selectedValue,i=e.selectValue,s=e.tabValues,p=[],d=(0,u.o5)().blockElementScrollPositionUntilNextRender,f=function(e){var r=e.currentTarget,t=p.indexOf(r),n=s[t].value;n!==l&&(d(r),i(n))},m=function(e){var r,t=null;switch(e.key){case"Enter":f(e);break;case"ArrowRight":var n,a=p.indexOf(e.currentTarget)+1;t=null!=(n=p[a])?n:p[0];break;case"ArrowLeft":var o,u=p.indexOf(e.currentTarget)-1;t=null!=(o=p[u])?o:p[p.length-1]}null==(r=t)||r.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.Z)("tabs",{"tabs--block":t},r)},s.map((function(e){var r=e.value,t=e.label,u=e.attributes;return a.createElement("li",(0,n.Z)({role:"tab",tabIndex:l===r?0:-1,"aria-selected":l===r,key:r,ref:function(e){return p.push(e)},onKeyDown:m,onClick:f},u,{className:(0,o.Z)("tabs__item",c,null==u?void 0:u.className,{"tabs__item--active":l===r})}),null!=t?t:r)})))}function d(e){var r=e.lazy,t=e.children,n=e.selectedValue,o=(Array.isArray(t)?t:[t]).filter(Boolean);if(r){var u=o.find((function(e){return e.props.value===n}));return u?(0,a.cloneElement)(u,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},o.map((function(e,r){return(0,a.cloneElement)(e,{key:r,hidden:e.props.value!==n})})))}function f(e){var r=(0,l.Y)(e);return a.createElement("div",{className:(0,o.Z)("tabs-container",s)},a.createElement(p,(0,n.Z)({},e,r)),a.createElement(d,(0,n.Z)({},e,r)))}function m(e){var r=(0,i.Z)();return a.createElement(f,(0,n.Z)({key:String(r)},e))}},5595:function(e,r,t){t.d(r,{Y:function(){return d}});var n=t(7378),a=t(5331),o=t(654),u=t(784),l=t(1819);function i(e){return function(e){var r,t;return null!=(r=null==(t=n.Children.map(e,(function(e){if(!e||(0,n.isValidElement)(e)&&(r=e.props)&&"object"==typeof r&&"value"in r)return e;var r;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?r:[]}(e).map((function(e){var r=e.props;return{value:r.value,label:r.label,attributes:r.attributes,default:r.default}}))}function s(e){var r=e.values,t=e.children;return(0,n.useMemo)((function(){var e=null!=r?r:i(t);return function(e){var r=(0,u.l)(e,(function(e,r){return e.value===r.value}));if(r.length>0)throw new Error('Docusaurus error: Duplicate values "'+r.map((function(e){return e.value})).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[r,t])}function c(e){var r=e.value;return e.tabValues.some((function(e){return e.value===r}))}function p(e){var r=e.queryString,t=void 0!==r&&r,u=e.groupId,l=(0,a.k6)(),i=function(e){var r=e.queryString,t=void 0!==r&&r,n=e.groupId;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:u});return[(0,o._X)(i),(0,n.useCallback)((function(e){if(i){var r=new URLSearchParams(l.location.search);r.set(i,e),l.replace(Object.assign({},l.location,{search:r.toString()}))}}),[i,l])]}function d(e){var r,t,a,o,u=e.defaultValue,i=e.queryString,d=void 0!==i&&i,f=e.groupId,m=s(e),b=(0,n.useState)((function(){return function(e){var r,t=e.defaultValue,n=e.tabValues;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!c({value:t,tabValues:n}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+n.map((function(e){return e.value})).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}var a=null!=(r=n.find((function(e){return e.default})))?r:n[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:u,tabValues:m})})),v=b[0],h=b[1],g=p({queryString:d,groupId:f}),y=g[0],k=g[1],w=(r=function(e){return e?"docusaurus.tab."+e:null}({groupId:f}.groupId),t=(0,l.Nk)(r),a=t[0],o=t[1],[a,(0,n.useCallback)((function(e){r&&o.set(e)}),[r,o])]),E=w[0],N=w[1],O=function(){var e=null!=y?y:E;return c({value:e,tabValues:m})?e:null}();return(0,n.useLayoutEffect)((function(){O&&h(O)}),[O]),{selectedValue:v,selectValue:(0,n.useCallback)((function(e){if(!c({value:e,tabValues:m}))throw new Error("Can't select invalid tab value="+e);h(e),k(e),N(e)}),[k,N,m]),tabValues:m}}},297:function(e,r,t){t.d(r,{Z:function(){return a}});var n=t(7378);function a(e){var r=e.children,t=e.type;return n.createElement("span",{className:"badge badge--"+t},r)}},2723:function(e,r,t){t.d(r,{Z:function(){return c}});var n=t(7378),a=t(1884),o=t(6125),u=t(297),l="badgeGroup_syf7",i="apiLink_JWAN";function s(e){var r=e.children;return n.createElement("span",{className:l},r)}function c(e){var r=e.api,t=e.backend,l=e.frontend,c=e.tooling;return n.createElement(n.Fragment,null,r&&n.createElement(a.default,{className:i,to:r},"API ",n.createElement(o.Z,null)),n.createElement(s,null,t&&n.createElement(u.Z,{type:"warning"},"Backend"),l&&n.createElement(u.Z,{type:"success"},"Frontend"),c&&n.createElement(u.Z,{type:"primary"},"Tooling")))}},6512:function(e,r,t){t.r(r),t.d(r,{assets:function(){return f},contentTitle:function(){return p},default:function(){return v},frontMatter:function(){return c},metadata:function(){return d},toc:function(){return m}});var n=t(5773),a=t(808),o=(t(7378),t(5318)),u=t(2723),l=t(3337),i=t(9798),s=["components"],c={title:"Crash reporting"},p=void 0,d={unversionedId:"crash",id:"crash",title:"Crash reporting",description:"Report important environmental information when an error occurs or a process crashes.",source:"@site/docs/crash.mdx",sourceDirName:".",slug:"/crash",permalink:"/docs/crash",draft:!1,editUrl:"https://github.com/milesj/boost/edit/master/website/docs/crash.mdx",tags:[],version:"current",frontMatter:{title:"Crash reporting"},sidebar:"docs",previous:{title:"Configuration",permalink:"/docs/config"},next:{title:"Debugging",permalink:"/docs/debug"}},f={},m=[{value:"Installation",id:"installation",level:2},{value:"Reporting",id:"reporting",level:2}],b={toc:m};function v(e){var r=e.components,t=(0,a.Z)(e,s);return(0,o.kt)("wrapper",(0,n.Z)({},b,t,{components:r,mdxType:"MDXLayout"}),(0,o.kt)(u.Z,{backend:!0,tooling:!0,api:"/api/debug",mdxType:"EnvBadges"}),(0,o.kt)("p",null,"Report important environmental information when an error occurs or a process crashes."),(0,o.kt)("h2",{id:"installation"},"Installation"),(0,o.kt)(l.Z,{groupId:"package-manager",defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"npm",value:"npm"}],mdxType:"Tabs"},(0,o.kt)(i.Z,{value:"yarn",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"yarn add @boost/debug\n"))),(0,o.kt)(i.Z,{value:"npm",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @boost/debug\n")))),(0,o.kt)("h2",{id:"reporting"},"Reporting"),(0,o.kt)("p",null,"Sometimes an application or script fails. Sometimes we want to write an error log with environmental\ninformation about the failure. Boost supports this exact scenario."),(0,o.kt)("p",null,"Take advantage of crash reporting by importing and instantiating the\n",(0,o.kt)("a",{parentName:"p",href:"/api/debug/class/CrashReporter"},(0,o.kt)("inlineCode",{parentName:"a"},"CrashReporter"))," class."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"import { CrashReporter } from '@boost/debug';\n\nconst reporter = new CrashReporter();\n")),(0,o.kt)("p",null,"The reporter supports a collection of chainable methods that log targeted information, grouped into\nsections. View the API for more information on these methods."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"reporter\n  .reportPackageVersions('@boost/*')\n  .reportBinaries()\n  .reportEnvVars()\n  .reportSystem();\n")),(0,o.kt)("p",null,"If you'd like to add your own section and label value pairs, use\n",(0,o.kt)("a",{parentName:"p",href:"/api/debug/class/CrashReporter#addSection"},(0,o.kt)("inlineCode",{parentName:"a"},"CrashReporter#addSection()")),", which requires a title,\nand ",(0,o.kt)("a",{parentName:"p",href:"/api/debug/class/CrashReporter#add"},(0,o.kt)("inlineCode",{parentName:"a"},"CrashReporter#add()")),", which accepts a label and one or\nmany values."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"reporter\n  .addSection('User')\n  .add('ID', user.id)\n  .add('Name', user.name)\n  .add('Location', user.address, user.country);\n")),(0,o.kt)("p",null,"Once all the information has been buffered, we can write the content to a log file by using\n",(0,o.kt)("a",{parentName:"p",href:"/api/debug/class/CrashReporter#write"},(0,o.kt)("inlineCode",{parentName:"a"},"CrashReporter#write()")),", which requires an absolute file\npath."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-ts"},"reporter.write(path.join(process.cwd(), 'error.log'));\n")))}v.isMDXComponent=!0}}]);