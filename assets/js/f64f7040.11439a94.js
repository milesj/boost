"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[4692],{7580:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>c,default:()=>m,frontMatter:()=>i,metadata:()=>u,toc:()=>p});var t=n(1948),a=n(3460),s=n(302),o=n(240),l=n(2548);const i={title:"Crash reporting"},c=void 0,u={id:"crash",title:"Crash reporting",description:"Report important environmental information when an error occurs or a process crashes.",source:"@site/docs/crash.mdx",sourceDirName:".",slug:"/crash",permalink:"/docs/crash",draft:!1,unlisted:!1,editUrl:"https://github.com/milesj/boost/edit/master/website/docs/crash.mdx",tags:[],version:"current",frontMatter:{title:"Crash reporting"},sidebar:"docs",previous:{title:"Configuration",permalink:"/docs/config"},next:{title:"Debugging",permalink:"/docs/debug"}},d={},p=[{value:"Installation",id:"installation",level:2},{value:"Reporting",id:"reporting",level:2}];function h(e){const r={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.M)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.c,{backend:!0,tooling:!0,api:"/api/debug"}),"\n",(0,t.jsx)(r.p,{children:"Report important environmental information when an error occurs or a process crashes."}),"\n",(0,t.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsxs)(o.c,{groupId:"package-manager",defaultValue:"yarn",values:[{label:"Yarn",value:"yarn"},{label:"pnpm",value:"pnpm"},{label:"npm",value:"npm"}],children:[(0,t.jsx)(l.c,{value:"yarn",children:(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"yarn add @boost/debug\n"})})}),(0,t.jsx)(l.c,{value:"pnpm",children:(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"pnpm add @boost/debug\n"})})}),(0,t.jsx)(l.c,{value:"npm",children:(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-bash",children:"npm install @boost/debug\n"})})})]}),"\n",(0,t.jsx)(r.h2,{id:"reporting",children:"Reporting"}),"\n",(0,t.jsx)(r.p,{children:"Sometimes an application or script fails. Sometimes we want to write an error log with environmental\ninformation about the failure. Boost supports this exact scenario."}),"\n",(0,t.jsxs)(r.p,{children:["Take advantage of crash reporting by importing and instantiating the\n",(0,t.jsx)(r.a,{href:"/api/debug/class/CrashReporter",children:(0,t.jsx)(r.code,{children:"CrashReporter"})})," class."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"import { CrashReporter } from '@boost/debug';\n\nconst reporter = new CrashReporter();\n"})}),"\n",(0,t.jsx)(r.p,{children:"The reporter supports a collection of chainable methods that log targeted information, grouped into\nsections. View the API for more information on these methods."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"reporter\n  .reportPackageVersions('@boost/*')\n  .reportBinaries()\n  .reportEnvVars()\n  .reportSystem();\n"})}),"\n",(0,t.jsxs)(r.p,{children:["If you'd like to add your own section and label value pairs, use\n",(0,t.jsx)(r.a,{href:"/api/debug/class/CrashReporter#addSection",children:(0,t.jsx)(r.code,{children:"CrashReporter#addSection()"})}),", which requires a title,\nand ",(0,t.jsx)(r.a,{href:"/api/debug/class/CrashReporter#add",children:(0,t.jsx)(r.code,{children:"CrashReporter#add()"})}),", which accepts a label and one or\nmany values."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"reporter\n  .addSection('User')\n  .add('ID', user.id)\n  .add('Name', user.name)\n  .add('Location', user.address, user.country);\n"})}),"\n",(0,t.jsxs)(r.p,{children:["Once all the information has been buffered, we can write the content to a log file by using\n",(0,t.jsx)(r.a,{href:"/api/debug/class/CrashReporter#write",children:(0,t.jsx)(r.code,{children:"CrashReporter#write()"})}),", which requires an absolute file\npath."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"reporter.write(path.join(process.cwd(), 'error.log'));\n"})})]})}function m(e={}){const{wrapper:r}={...(0,a.M)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},2548:(e,r,n)=>{n.d(r,{c:()=>o});n(6952);var t=n(8112);const a={tabItem:"tabItem_wHwb"};var s=n(1948);function o(e){let{children:r,hidden:n,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.c)(a.tabItem,o),hidden:n,children:r})}},240:(e,r,n)=>{n.d(r,{c:()=>h});var t=n(6952),a=n(8112),s=n(320),o=n(500),l=n(6576);const i={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};var c=n(1948);function u(e){let{className:r,block:n,selectedValue:t,selectValue:o,tabValues:l}=e;const u=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.MV)(),p=e=>{const r=e.currentTarget,n=u.indexOf(r),a=l[n].value;a!==t&&(d(r),o(a))},h=e=>{var r;let n=null;switch(e.key){case"Enter":p(e);break;case"ArrowRight":{var t;const r=u.indexOf(e.currentTarget)+1;n=null!=(t=u[r])?t:u[0];break}case"ArrowLeft":{var a;const r=u.indexOf(e.currentTarget)-1;n=null!=(a=u[r])?a:u[u.length-1];break}}null==(r=n)||r.focus()};return(0,c.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.c)("tabs",{"tabs--block":n},r),children:l.map((e=>{let{value:r,label:n,attributes:s}=e;return(0,c.jsx)("li",{role:"tab",tabIndex:t===r?0:-1,"aria-selected":t===r,ref:e=>u.push(e),onKeyDown:h,onClick:p,...s,className:(0,a.c)("tabs__item",i.tabItem,null==s?void 0:s.className,{"tabs__item--active":t===r}),children:null!=n?n:r},r)}))})}function d(e){let{lazy:r,children:n,selectedValue:a}=e;const s=(Array.isArray(n)?n:[n]).filter(Boolean);if(r){const e=s.find((e=>e.props.value===a));return e?(0,t.cloneElement)(e,{className:"margin-top--md"}):null}return(0,c.jsx)("div",{className:"margin-top--md",children:s.map(((e,r)=>(0,t.cloneElement)(e,{key:r,hidden:e.props.value!==a})))})}function p(e){const r=(0,o.a)(e);return(0,c.jsxs)("div",{className:(0,a.c)("tabs-container",i.tabList),children:[(0,c.jsx)(u,{...e,...r}),(0,c.jsx)(d,{...e,...r})]})}function h(e){const r=(0,l.c)();return(0,c.jsx)(p,{...e,children:(0,o.A)(e.children)},String(r))}},500:(e,r,n)=>{n.d(r,{A:()=>c,a:()=>h});var t=n(6952),a=n(7976),s=n(2508),o=n(440),l=n(2484),i=n(900);function c(e){var r,n;return null!=(r=null==(n=t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?r:[]}function u(e){const{values:r,children:n}=e;return(0,t.useMemo)((()=>{const e=null!=r?r:function(e){return c(e).map((e=>{let{props:{value:r,label:n,attributes:t,default:a}}=e;return{value:r,label:n,attributes:t,default:a}}))}(n);return function(e){const r=(0,l.w)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error('Docusaurus error: Duplicate values "'+r.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[r,n])}function d(e){let{value:r,tabValues:n}=e;return n.some((e=>e.value===r))}function p(e){let{queryString:r=!1,groupId:n}=e;const s=(0,a.Uz)(),l=function(e){let{queryString:r=!1,groupId:n}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:r,groupId:n});return[(0,o._M)(l),(0,t.useCallback)((e=>{if(!l)return;const r=new URLSearchParams(s.location.search);r.set(l,e),s.replace({...s.location,search:r.toString()})}),[l,s])]}function h(e){const{defaultValue:r,queryString:n=!1,groupId:a}=e,o=u(e),[l,c]=(0,t.useState)((()=>function(e){var r;let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!d({value:n,tabValues:t}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+t.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const a=null!=(r=t.find((e=>e.default)))?r:t[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:r,tabValues:o}))),[h,m]=p({queryString:n,groupId:a}),[b,f]=function(e){let{groupId:r}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(r),[a,s]=(0,i.IN)(n);return[a,(0,t.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:a}),g=(()=>{const e=null!=h?h:b;return d({value:e,tabValues:o})?e:null})();(0,s.c)((()=>{g&&c(g)}),[g]);return{selectedValue:l,selectValue:(0,t.useCallback)((e=>{if(!d({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);c(e),m(e),f(e)}),[m,f,o]),tabValues:o}}},5392:(e,r,n)=>{n.d(r,{c:()=>a});var t=n(1948);function a(e){let{children:r,type:n}=e;return(0,t.jsx)("span",{className:"badge badge--"+n,children:r})}},302:(e,r,n)=>{n.d(r,{c:()=>c});var t=n(4308),a=n(3752),s=n(5392);const o={badgeGroup:"badgeGroup_syf7",apiLink:"apiLink_JWAN"};var l=n(1948);function i(e){let{children:r}=e;return(0,l.jsx)("span",{className:o.badgeGroup,children:r})}function c(e){let{api:r,backend:n,frontend:c,tooling:u}=e;return(0,l.jsxs)(l.Fragment,{children:[r&&(0,l.jsxs)(t.default,{className:o.apiLink,to:r,children:["API ",(0,l.jsx)(a.c,{})]}),(0,l.jsxs)(i,{children:[n&&(0,l.jsx)(s.c,{type:"warning",children:"Backend"}),c&&(0,l.jsx)(s.c,{type:"success",children:"Frontend"}),u&&(0,l.jsx)(s.c,{type:"primary",children:"Tooling"})]})]})}},3460:(e,r,n)=>{n.d(r,{I:()=>l,M:()=>o});var t=n(6952);const a={},s=t.createContext(a);function o(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);